import{f as ft,a as ot,d as fs,c as us}from"../chunks/BySxuycn.js";import{i as be}from"../chunks/DGXj-78I.js";import{o as xe,c as Va,a as Xa}from"../chunks/Cyx2oKSo.js";import{C as Gn,w as Ht,a9 as ds,ai as hs,y as ps,x as gs,g as f,Q as he,z as ms,A as vs,B as Jr,D as Kn,J as Ve,ac as ys,F as Ya,G as Ua,I as bs,au as Ga,ag as Ka,i as Wa,X as H,av as jr,aw as Wn,M as xs,a5 as ta,ax as Cr,ay as _s,az as Tr,aA as ea,aB as ws,af as ks,aC as Ms,ar as As,aD as $s,aa as Ns,aE as Ss,aF as Es,aG as Cs,aH as Ts,aI as Rs,b as Qa,L as Za,aJ as Fs,K as Ja,aK as Is,aL as zs,p as oe,aq as Ds,q as C,m as le,o as R,v as T,t as Ft,aM as ct,aN as Cn,at as ae,W as D,e as gt,aO as na,aP as Ct,k as ja}from"../chunks/DrB0le-y.js";import{p as Pt,i as Wt,b as pe}from"../chunks/kkF33Zcd.js";import{w as Ps,b as Ls}from"../chunks/DeXhJO8o.js";import{a as qs,l as Rr,s as st,e as Lt}from"../chunks/CG1cjysF.js";import{s as ue,c as un}from"../chunks/BfJTvgqI.js";function Fr(t,e){return e}function Bs(t,e,n,r){for(var a=[],i=e.length,s=0;s<i;s++)ws(e[s].e,a,!0);var o=i>0&&a.length===0&&n!==null;if(o){var l=n.parentNode;ks(l),l.append(n),r.clear(),re(t,e[0].prev,e[i-1].next)}Ms(a,()=>{for(var c=0;c<i;c++){var h=e[c];o||(r.delete(h.k),re(t,h.prev,h.next)),As(h.e,!o)}})}function Ir(t,e,n,r,a,i=null){var s=t,o={flags:e,items:new Map,first:null},l=(e&Ga)!==0;if(l){var c=t;s=Ht?Gn(ds(c)):c.appendChild(hs())}Ht&&ps();var h=null,u=!1,d=he(()=>{var p=n();return Wa(p)?p:p==null?[]:Ka(p)});gs(()=>{var p=f(d),m=p.length;if(u&&m===0)return;u=m===0;let w=!1;if(Ht){var g=ms(s)===vs;g!==(m===0)&&(s=Jr(),Gn(s),Kn(!1),w=!0)}if(Ht){for(var v=null,b,y=0;y<m;y++){if(Ve.nodeType===8&&Ve.data===ys){s=Ve,w=!0,Kn(!1);break}var x=p[y],_=r(x,y);b=ti(Ve,o,v,null,x,_,y,a,e,n),o.items.set(_,b),v=b}m>0&&Gn(Jr())}Ht||Os(p,o,s,a,e,r,n),i!==null&&(m===0?h?Ya(h):h=Ua(()=>i(s)):h!==null&&bs(h,()=>{h=null})),w&&Kn(!0),f(d)}),Ht&&(s=Ve)}function Os(t,e,n,r,a,i,s){var F,B,E,z;var o=(a&_s)!==0,l=(a&(Tr|Cr))!==0,c=t.length,h=e.items,u=e.first,d=u,p,m=null,w,g=[],v=[],b,y,x,_;if(o)for(_=0;_<c;_+=1)b=t[_],y=i(b,_),x=h.get(y),x!==void 0&&((F=x.a)==null||F.measure(),(w??(w=new Set)).add(x));for(_=0;_<c;_+=1){if(b=t[_],y=i(b,_),x=h.get(y),x===void 0){var P=d?d.e.nodes_start:n;m=ti(P,e,m,m===null?e.first:m.next,b,y,_,r,a,s),h.set(y,m),g=[],v=[],d=m.next;continue}if(l&&Hs(x,b,_,a),(x.e.f&Wn)!==0&&(Ya(x.e),o&&((B=x.a)==null||B.unfix(),(w??(w=new Set)).delete(x))),x!==d){if(p!==void 0&&p.has(x)){if(g.length<v.length){var $=v[0],L;m=$.prev;var Y=g[0],q=g[g.length-1];for(L=0;L<g.length;L+=1)ra(g[L],$,n);for(L=0;L<v.length;L+=1)p.delete(v[L]);re(e,Y.prev,q.next),re(e,m,Y),re(e,q,$),d=$,m=q,_-=1,g=[],v=[]}else p.delete(x),ra(x,d,n),re(e,x.prev,x.next),re(e,x,m===null?e.first:m.next),re(e,m,x),m=x;continue}for(g=[],v=[];d!==null&&d.k!==y;)(d.e.f&Wn)===0&&(p??(p=new Set)).add(d),v.push(d),d=d.next;if(d===null)continue;x=d}g.push(x),m=x,d=x.next}if(d!==null||p!==void 0){for(var k=p===void 0?[]:Ka(p);d!==null;)(d.e.f&Wn)===0&&k.push(d),d=d.next;var N=k.length;if(N>0){var A=(a&Ga)!==0&&c===0?n:null;if(o){for(_=0;_<N;_+=1)(E=k[_].a)==null||E.measure();for(_=0;_<N;_+=1)(z=k[_].a)==null||z.fix()}Bs(e,k,A,h)}}o&&xs(()=>{var M;if(w!==void 0)for(x of w)(M=x.a)==null||M.apply()}),ta.first=e.first&&e.first.e,ta.last=m&&m.e}function Hs(t,e,n,r){(r&Tr)!==0&&ea(t.v,e),(r&Cr)!==0?ea(t.i,n):t.i=n}function ti(t,e,n,r,a,i,s,o,l,c){var h=(l&Tr)!==0,u=(l&$s)===0,d=h?u?H(a):jr(a):a,p=(l&Cr)===0?s:jr(s),m={i:p,v:d,k:i,a:null,e:null,prev:n,next:r};try{return m.e=Ua(()=>o(t,d,p,c),Ht),m.e.prev=n&&n.e,m.e.next=r&&r.e,n===null?e.first=m:(n.next=m,n.e.next=m.e),r!==null&&(r.prev=m,r.e.prev=m.e),m}finally{}}function ra(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,a=e?e.e.nodes_start:n,i=t.e.nodes_start;i!==r;){var s=Ns(i);a.before(i),i=s}}function re(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}const Vs=Symbol("is custom element"),Xs=Symbol("is html");function Mt(t){if(Ht){var e=!1,n=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var r=t.value;V(t,"value",null),t.value=r}if(t.hasAttribute("checked")){var a=t.checked;V(t,"checked",null),t.checked=a}}};t.__on_r=n,Ss(n),qs()}}function V(t,e,n,r){var a=Ys(t);Ht&&(a[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||a[e]!==(a[e]=n)&&(e==="loading"&&(t[Es]=n),n==null?t.removeAttribute(e):typeof n!="string"&&Us(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function Ys(t){return t.__attributes??(t.__attributes={[Vs]:t.nodeName.includes("-"),[Xs]:t.namespaceURI===Cs})}var aa=new Map;function Us(t){var e=aa.get(t.nodeName);if(e)return e;aa.set(t.nodeName,e=[]);for(var n,r=t,a=Element.prototype;a!==r;){n=Rs(r);for(var i in n)n[i].set&&e.push(i);r=Ts(r)}return e}const Gs=()=>performance.now(),Kt={tick:t=>requestAnimationFrame(t),now:()=>Gs(),tasks:new Set};function ei(){const t=Kt.now();Kt.tasks.forEach(e=>{e.c(t)||(Kt.tasks.delete(e),e.f())}),Kt.tasks.size!==0&&Kt.tick(ei)}function Ks(t){let e;return Kt.tasks.size===0&&Kt.tick(ei),{promise:new Promise(n=>{Kt.tasks.add(e={c:t,f:n})}),abort(){Kt.tasks.delete(e)}}}function te(t,e,n=e){var r=Fs();Rr(t,"input",a=>{var i=a?t.defaultValue:t.value;if(i=Qn(t)?Zn(i):i,n(i),r&&i!==(i=e())){var s=t.selectionStart,o=t.selectionEnd;t.value=i??"",o!==null&&(t.selectionStart=s,t.selectionEnd=Math.min(o,t.value.length))}}),(Ht&&t.defaultValue!==t.value||Qa(e)==null&&t.value)&&n(Qn(t)?Zn(t.value):t.value),Za(()=>{var a=e();Qn(t)&&a===Zn(t.value)||t.type==="date"&&!a&&!t.value||a!==t.value&&(t.value=a??"")})}function Ce(t,e,n=e){Rr(t,"change",r=>{var a=r?t.defaultChecked:t.checked;n(a)}),(Ht&&t.defaultChecked!==t.checked||Qa(e)==null)&&n(t.checked),Za(()=>{var r=e();t.checked=!!r})}function Qn(t){var e=t.type;return e==="number"||e==="range"}function Zn(t){return t===""?null:+t}function ni(t,e,n){if(t.multiple)return e==null?void 0:Wa(e)?Qs(t,e):Is();for(var r of t.options){var a=Ze(r);if(zs(a,e)){r.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Ws(t,e){Ja(()=>{var n=new MutationObserver(()=>{var r=t.__value;ni(t,r)});return n.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{n.disconnect()}})}function ia(t,e,n=e){var r=!0;Rr(t,"change",a=>{var i=a?"[selected]":":checked",s;if(t.multiple)s=[].map.call(t.querySelectorAll(i),Ze);else{var o=t.querySelector(i)??t.querySelector("option:not([disabled])");s=o&&Ze(o)}n(s)}),Ja(()=>{var a=e();if(ni(t,a,r),r&&a===void 0){var i=t.querySelector(":checked");i!==null&&(a=Ze(i),n(a))}t.__value=a,r=!1}),Ws(t)}function Qs(t,e){for(var n of t.options)n.selected=e.includes(Ze(n))}function Ze(t){return"__value"in t?t.__value:t.value}var sa={},Jn={},jn=34,Xe=10,tr=13;function ri(t){return new Function("d","return {"+t.map(function(e,n){return JSON.stringify(e)+": d["+n+'] || ""'}).join(",")+"}")}function Zs(t,e){var n=ri(t);return function(r,a){return e(n(r),a,t)}}function oa(t){var e=Object.create(null),n=[];return t.forEach(function(r){for(var a in r)a in e||n.push(e[a]=a)}),n}function Et(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function Js(t){return t<0?"-"+Et(-t,6):t>9999?"+"+Et(t,6):Et(t,4)}function js(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),a=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Js(t.getUTCFullYear())+"-"+Et(t.getUTCMonth()+1,2)+"-"+Et(t.getUTCDate(),2)+(a?"T"+Et(e,2)+":"+Et(n,2)+":"+Et(r,2)+"."+Et(a,3)+"Z":r?"T"+Et(e,2)+":"+Et(n,2)+":"+Et(r,2)+"Z":n||e?"T"+Et(e,2)+":"+Et(n,2)+"Z":"")}function to(t){var e=new RegExp('["'+t+`
\r]`),n=t.charCodeAt(0);function r(u,d){var p,m,w=a(u,function(g,v){if(p)return p(g,v-1);m=g,p=d?Zs(g,d):ri(g)});return w.columns=m||[],w}function a(u,d){var p=[],m=u.length,w=0,g=0,v,b=m<=0,y=!1;u.charCodeAt(m-1)===Xe&&--m,u.charCodeAt(m-1)===tr&&--m;function x(){if(b)return Jn;if(y)return y=!1,sa;var P,$=w,L;if(u.charCodeAt($)===jn){for(;w++<m&&u.charCodeAt(w)!==jn||u.charCodeAt(++w)===jn;);return(P=w)>=m?b=!0:(L=u.charCodeAt(w++))===Xe?y=!0:L===tr&&(y=!0,u.charCodeAt(w)===Xe&&++w),u.slice($+1,P-1).replace(/""/g,'"')}for(;w<m;){if((L=u.charCodeAt(P=w++))===Xe)y=!0;else if(L===tr)y=!0,u.charCodeAt(w)===Xe&&++w;else if(L!==n)continue;return u.slice($,P)}return b=!0,u.slice($,m)}for(;(v=x())!==Jn;){for(var _=[];v!==sa&&v!==Jn;)_.push(v),v=x();d&&(_=d(_,g++))==null||p.push(_)}return p}function i(u,d){return u.map(function(p){return d.map(function(m){return h(p[m])}).join(t)})}function s(u,d){return d==null&&(d=oa(u)),[d.map(h).join(t)].concat(i(u,d)).join(`
`)}function o(u,d){return d==null&&(d=oa(u)),i(u,d).join(`
`)}function l(u){return u.map(c).join(`
`)}function c(u){return u.map(h).join(t)}function h(u){return u==null?"":u instanceof Date?js(u):e.test(u+="")?'"'+u.replace(/"/g,'""')+'"':u}return{parse:r,parseRows:a,format:s,formatBody:o,formatRows:l,formatRow:c,formatValue:h}}var eo=to(","),no=eo.parse;function ro(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function ao(t,e){return fetch(t,e).then(ro)}function io(t){return function(e,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),ao(e,n).then(function(a){return t(a,r)})}}var so=io(no);function la(t){return Object.prototype.toString.call(t)==="[object Date]"}function oo(t){return t}function lo(t){const e=t-1;return e*e*e+1}function ur(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const r=e.map((a,i)=>ur(t[i],a));return a=>r.map(i=>i(a))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(la(t)&&la(e)){const i=t.getTime(),o=e.getTime()-i;return l=>new Date(i+l*o)}const r=Object.keys(e),a={};return r.forEach(i=>{a[i]=ur(t[i],e[i])}),i=>{const s={};return r.forEach(o=>{s[o]=a[o](i)}),s}}if(n==="number"){const r=e-t;return a=>t+a*r}return()=>e}function co(t,e={}){const n=Ps(t);let r,a=t;function i(s,o){if(a=s,t==null)return n.set(t=s),Promise.resolve();let l=r,c=!1,{delay:h=0,duration:u=400,easing:d=oo,interpolate:p=ur}={...e,...o};if(u===0)return l&&(l.abort(),l=null),n.set(t=a),Promise.resolve();const m=Kt.now()+h;let w;return r=Ks(g=>{if(g<m)return!0;c||(w=p(t,s),typeof u=="function"&&(u=u(t,s)),c=!0),l&&(l.abort(),l=null);const v=g-m;return v>u?(n.set(t=s),!1):(n.set(t=w(d(v/u))),!0)}),r.promise}return{set:i,update:(s,o)=>i(s(a,t),o),subscribe:n.subscribe}}var fo=ft('<div class="text-center"><h2 class="text-4xl font-extrabold tracking-tight tabular-nums svelte-19d6zus"> </h2> <p class="text-xs tracking-wide text-gray-500 uppercase"> </p></div>'),uo=ft('<div class="mt-6 flex flex-wrap justify-center gap-8"></div>');function ho(t,e){oe(e,!0);let n=Pt(e,"duration",3,1200);const r=Ds(()=>e.stats.map(()=>co(0,{duration:n(),easing:lo})));xe(()=>{let i=0;e.stats.forEach(({value:s},o)=>{setTimeout(()=>f(r)[o].set(s),i),i+=n()+400})});var a=uo();Ir(a,21,()=>e.stats,Fr,(i,s,o)=>{let l=()=>f(s).label;var c=fo(),h=R(c),u=R(h,!0);C(h);var d=T(h,2),p=R(d,!0);C(d),C(c),Ft(()=>{st(u,e.stats[o].value),st(p,l())}),ot(i,c)}),C(a),ot(t,a),le()}var dr="http://www.w3.org/1999/xhtml";const ca={svg:"http://www.w3.org/2000/svg",xhtml:dr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Tn(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),ca.hasOwnProperty(e)?{space:ca[e],local:t}:t}function po(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===dr&&e.documentElement.namespaceURI===dr?e.createElement(t):e.createElementNS(n,t)}}function go(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ai(t){var e=Tn(t);return(e.local?go:po)(e)}function mo(){}function zr(t){return t==null?mo:function(){return this.querySelector(t)}}function vo(t){typeof t!="function"&&(t=zr(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i=e[a],s=i.length,o=r[a]=new Array(s),l,c,h=0;h<s;++h)(l=i[h])&&(c=t.call(l,l.__data__,h,i))&&("__data__"in l&&(c.__data__=l.__data__),o[h]=c);return new It(r,this._parents)}function yo(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function bo(){return[]}function ii(t){return t==null?bo:function(){return this.querySelectorAll(t)}}function xo(t){return function(){return yo(t.apply(this,arguments))}}function _o(t){typeof t=="function"?t=xo(t):t=ii(t);for(var e=this._groups,n=e.length,r=[],a=[],i=0;i<n;++i)for(var s=e[i],o=s.length,l,c=0;c<o;++c)(l=s[c])&&(r.push(t.call(l,l.__data__,c,s)),a.push(l));return new It(r,a)}function si(t){return function(){return this.matches(t)}}function oi(t){return function(e){return e.matches(t)}}var wo=Array.prototype.find;function ko(t){return function(){return wo.call(this.children,t)}}function Mo(){return this.firstElementChild}function Ao(t){return this.select(t==null?Mo:ko(typeof t=="function"?t:oi(t)))}var $o=Array.prototype.filter;function No(){return Array.from(this.children)}function So(t){return function(){return $o.call(this.children,t)}}function Eo(t){return this.selectAll(t==null?No:So(typeof t=="function"?t:oi(t)))}function Co(t){typeof t!="function"&&(t=si(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i=e[a],s=i.length,o=r[a]=[],l,c=0;c<s;++c)(l=i[c])&&t.call(l,l.__data__,c,i)&&o.push(l);return new It(r,this._parents)}function li(t){return new Array(t.length)}function To(){return new It(this._enter||this._groups.map(li),this._parents)}function xn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}xn.prototype={constructor:xn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ro(t){return function(){return t}}function Fo(t,e,n,r,a,i){for(var s=0,o,l=e.length,c=i.length;s<c;++s)(o=e[s])?(o.__data__=i[s],r[s]=o):n[s]=new xn(t,i[s]);for(;s<l;++s)(o=e[s])&&(a[s]=o)}function Io(t,e,n,r,a,i,s){var o,l,c=new Map,h=e.length,u=i.length,d=new Array(h),p;for(o=0;o<h;++o)(l=e[o])&&(d[o]=p=s.call(l,l.__data__,o,e)+"",c.has(p)?a[o]=l:c.set(p,l));for(o=0;o<u;++o)p=s.call(t,i[o],o,i)+"",(l=c.get(p))?(r[o]=l,l.__data__=i[o],c.delete(p)):n[o]=new xn(t,i[o]);for(o=0;o<h;++o)(l=e[o])&&c.get(d[o])===l&&(a[o]=l)}function zo(t){return t.__data__}function Do(t,e){if(!arguments.length)return Array.from(this,zo);var n=e?Io:Fo,r=this._parents,a=this._groups;typeof t!="function"&&(t=Ro(t));for(var i=a.length,s=new Array(i),o=new Array(i),l=new Array(i),c=0;c<i;++c){var h=r[c],u=a[c],d=u.length,p=Po(t.call(h,h&&h.__data__,c,r)),m=p.length,w=o[c]=new Array(m),g=s[c]=new Array(m),v=l[c]=new Array(d);n(h,u,w,g,v,p,e);for(var b=0,y=0,x,_;b<m;++b)if(x=w[b]){for(b>=y&&(y=b+1);!(_=g[y])&&++y<m;);x._next=_||null}}return s=new It(s,r),s._enter=o,s._exit=l,s}function Po(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Lo(){return new It(this._exit||this._groups.map(li),this._parents)}function qo(t,e,n){var r=this.enter(),a=this,i=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(a=e(a),a&&(a=a.selection())),n==null?i.remove():n(i),r&&a?r.merge(a).order():a}function Bo(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,a=n.length,i=r.length,s=Math.min(a,i),o=new Array(a),l=0;l<s;++l)for(var c=n[l],h=r[l],u=c.length,d=o[l]=new Array(u),p,m=0;m<u;++m)(p=c[m]||h[m])&&(d[m]=p);for(;l<a;++l)o[l]=n[l];return new It(o,this._parents)}function Oo(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],a=r.length-1,i=r[a],s;--a>=0;)(s=r[a])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function Ho(t){t||(t=Vo);function e(u,d){return u&&d?t(u.__data__,d.__data__):!u-!d}for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var s=n[i],o=s.length,l=a[i]=new Array(o),c,h=0;h<o;++h)(c=s[h])&&(l[h]=c);l.sort(e)}return new It(a,this._parents).order()}function Vo(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Xo(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Yo(){return Array.from(this)}function Uo(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],a=0,i=r.length;a<i;++a){var s=r[a];if(s)return s}return null}function Go(){let t=0;for(const e of this)++t;return t}function Ko(){return!this.node()}function Wo(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a=e[n],i=0,s=a.length,o;i<s;++i)(o=a[i])&&t.call(o,o.__data__,i,a);return this}function Qo(t){return function(){this.removeAttribute(t)}}function Zo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Jo(t,e){return function(){this.setAttribute(t,e)}}function jo(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function tl(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function el(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function nl(t,e){var n=Tn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Zo:Qo:typeof e=="function"?n.local?el:tl:n.local?jo:Jo)(n,e))}function ci(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function rl(t){return function(){this.style.removeProperty(t)}}function al(t,e,n){return function(){this.style.setProperty(t,e,n)}}function il(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function sl(t,e,n){return arguments.length>1?this.each((e==null?rl:typeof e=="function"?il:al)(t,e,n??"")):Fe(this.node(),t)}function Fe(t,e){return t.style.getPropertyValue(e)||ci(t).getComputedStyle(t,null).getPropertyValue(e)}function ol(t){return function(){delete this[t]}}function ll(t,e){return function(){this[t]=e}}function cl(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function fl(t,e){return arguments.length>1?this.each((e==null?ol:typeof e=="function"?cl:ll)(t,e)):this.node()[t]}function fi(t){return t.trim().split(/^|\s+/)}function Dr(t){return t.classList||new ui(t)}function ui(t){this._node=t,this._names=fi(t.getAttribute("class")||"")}ui.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function di(t,e){for(var n=Dr(t),r=-1,a=e.length;++r<a;)n.add(e[r])}function hi(t,e){for(var n=Dr(t),r=-1,a=e.length;++r<a;)n.remove(e[r])}function ul(t){return function(){di(this,t)}}function dl(t){return function(){hi(this,t)}}function hl(t,e){return function(){(e.apply(this,arguments)?di:hi)(this,t)}}function pl(t,e){var n=fi(t+"");if(arguments.length<2){for(var r=Dr(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof e=="function"?hl:e?ul:dl)(n,e))}function gl(){this.textContent=""}function ml(t){return function(){this.textContent=t}}function vl(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function yl(t){return arguments.length?this.each(t==null?gl:(typeof t=="function"?vl:ml)(t)):this.node().textContent}function bl(){this.innerHTML=""}function xl(t){return function(){this.innerHTML=t}}function _l(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function wl(t){return arguments.length?this.each(t==null?bl:(typeof t=="function"?_l:xl)(t)):this.node().innerHTML}function kl(){this.nextSibling&&this.parentNode.appendChild(this)}function Ml(){return this.each(kl)}function Al(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $l(){return this.each(Al)}function Nl(t){var e=typeof t=="function"?t:ai(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Sl(){return null}function El(t,e){var n=typeof t=="function"?t:ai(t),r=e==null?Sl:typeof e=="function"?e:zr(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Cl(){var t=this.parentNode;t&&t.removeChild(this)}function Tl(){return this.each(Cl)}function Rl(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Fl(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Il(t){return this.select(t?Fl:Rl)}function zl(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Dl(t){return function(e){t.call(this,e,this.__data__)}}function Pl(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Ll(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,a=e.length,i;n<a;++n)i=e[n],(!t.type||i.type===t.type)&&i.name===t.name?this.removeEventListener(i.type,i.listener,i.options):e[++r]=i;++r?e.length=r:delete this.__on}}}function ql(t,e,n){return function(){var r=this.__on,a,i=Dl(e);if(r){for(var s=0,o=r.length;s<o;++s)if((a=r[s]).type===t.type&&a.name===t.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=n),a.value=e;return}}this.addEventListener(t.type,i,n),a={type:t.type,name:t.name,value:e,listener:i,options:n},r?r.push(a):this.__on=[a]}}function Bl(t,e,n){var r=Pl(t+""),a,i=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,c=o.length,h;l<c;++l)for(a=0,h=o[l];a<i;++a)if((s=r[a]).type===h.type&&s.name===h.name)return h.value}return}for(o=e?ql:Ll,a=0;a<i;++a)this.each(o(r[a],e,n));return this}function pi(t,e,n){var r=ci(t),a=r.CustomEvent;typeof a=="function"?a=new a(e,n):(a=r.document.createEvent("Event"),n?(a.initEvent(e,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}function Ol(t,e){return function(){return pi(this,t,e)}}function Hl(t,e){return function(){return pi(this,t,e.apply(this,arguments))}}function Vl(t,e){return this.each((typeof e=="function"?Hl:Ol)(t,e))}function*Xl(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],a=0,i=r.length,s;a<i;++a)(s=r[a])&&(yield s)}var gi=[null];function It(t,e){this._groups=t,this._parents=e}function Pe(){return new It([[document.documentElement]],gi)}function Yl(){return this}It.prototype=Pe.prototype={constructor:It,select:vo,selectAll:_o,selectChild:Ao,selectChildren:Eo,filter:Co,data:Do,enter:To,exit:Lo,join:qo,merge:Bo,selection:Yl,order:Oo,sort:Ho,call:Xo,nodes:Yo,node:Uo,size:Go,empty:Ko,each:Wo,attr:nl,style:sl,property:fl,classed:pl,text:yl,html:wl,raise:Ml,lower:$l,append:Nl,insert:El,remove:Tl,clone:Il,datum:zl,on:Bl,dispatch:Vl,[Symbol.iterator]:Xl};function G(t){return typeof t=="string"?new It([[document.querySelector(t)]],[document.documentElement]):new It([[t]],gi)}function Ul(t){let e;for(;e=t.sourceEvent;)t=e;return t}function fa(t,e){if(t=Ul(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]}}return[t.pageX,t.pageY]}function Te(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mi(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vi(t){let e,n,r;t.length!==2?(e=Te,n=(o,l)=>Te(t(o),l),r=(o,l)=>t(o)-l):(e=t===Te||t===mi?t:Gl,n=t,r=t);function a(o,l,c=0,h=o.length){if(c<h){if(e(l,l)!==0)return h;do{const u=c+h>>>1;n(o[u],l)<0?c=u+1:h=u}while(c<h)}return c}function i(o,l,c=0,h=o.length){if(c<h){if(e(l,l)!==0)return h;do{const u=c+h>>>1;n(o[u],l)<=0?c=u+1:h=u}while(c<h)}return c}function s(o,l,c=0,h=o.length){const u=a(o,l,c,h-1);return u>c&&r(o[u-1],l)>-r(o[u],l)?u-1:u}return{left:a,center:s,right:i}}function Gl(){return 0}function Kl(t){return t===null?NaN:+t}function*Wl(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const Ql=vi(Te),yi=Ql.right;vi(Kl).center;function Zl(t,e){let n=0;for(let r of t)r!=null&&(r=+r)>=r&&++n;return n}function Je(t,e){let n,r;if(e===void 0)for(const a of t)a!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)));else{let a=-1;for(let i of t)(i=e(i,++a,t))!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}class hr extends Map{constructor(e,n=tc){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(ua(this,e))}has(e){return super.has(ua(this,e))}set(e,n){return super.set(Jl(this,e),n)}delete(e){return super.delete(jl(this,e))}}function ua({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Jl({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function jl({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function tc(t){return t!==null&&typeof t=="object"?t.valueOf():t}function bi(t){return t}function ec(t,e,...n){return nc(t,bi,e,n)}function nc(t,e,n,r){return function a(i,s){if(s>=r.length)return n(i);const o=new hr,l=r[s++];let c=-1;for(const h of i){const u=l(h,++c,i),d=o.get(u);d?d.push(h):o.set(u,[h])}for(const[h,u]of o)o.set(h,a(u,s));return e(o)}(t,0)}function rc(t=Te){if(t===Te)return xi;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function xi(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}var ac=Array.prototype,ic=ac.slice;function er(t){return()=>t}const sc=Math.sqrt(50),oc=Math.sqrt(10),lc=Math.sqrt(2);function _n(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),s=i>=sc?10:i>=oc?5:i>=lc?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?_n(t,e,n*2):[o,l,c]}function _i(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,i,s]=r?_n(e,t,n):_n(t,e,n);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function Ie(t,e,n){return e=+e,t=+t,n=+n,_n(t,e,n)[2]}function cc(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?Ie(e,t,n):Ie(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function fc(t,e,n){let r;for(;;){const a=Ie(t,e,n);if(a===r||a===0||!isFinite(a))return[t,e];a>0?(t=Math.floor(t/a)*a,e=Math.ceil(e/a)*a):a<0&&(t=Math.ceil(t*a)/a,e=Math.floor(e*a)/a),r=a}}function uc(t){return Math.max(1,Math.ceil(Math.log(Zl(t))/Math.LN2)+1)}function wi(){var t=bi,e=Je,n=uc;function r(a){Array.isArray(a)||(a=Array.from(a));var i,s=a.length,o,l,c=new Array(s);for(i=0;i<s;++i)c[i]=t(a[i],i,a);var h=e(c),u=h[0],d=h[1],p=n(c,u,d);if(!Array.isArray(p)){const y=d,x=+p;if(e===Je&&([u,d]=fc(u,d,x)),p=_i(u,d,x),p[0]<=u&&(l=Ie(u,d,x)),p[p.length-1]>=d)if(y>=d&&e===Je){const _=Ie(u,d,x);isFinite(_)&&(_>0?d=(Math.floor(d/_)+1)*_:_<0&&(d=(Math.ceil(d*-_)+1)/-_))}else p.pop()}for(var m=p.length,w=0,g=m;p[w]<=u;)++w;for(;p[g-1]>d;)--g;(w||g<m)&&(p=p.slice(w,g),m=g-w);var v=new Array(m+1),b;for(i=0;i<=m;++i)b=v[i]=[],b.x0=i>0?p[i-1]:u,b.x1=i<m?p[i]:d;if(isFinite(l)){if(l>0)for(i=0;i<s;++i)(o=c[i])!=null&&u<=o&&o<=d&&v[Math.min(m,Math.floor((o-u)/l))].push(a[i]);else if(l<0){for(i=0;i<s;++i)if((o=c[i])!=null&&u<=o&&o<=d){const y=Math.floor((u-o)*l);v[Math.min(m,y+(p[y]<=o))].push(a[i])}}}else for(i=0;i<s;++i)(o=c[i])!=null&&u<=o&&o<=d&&v[yi(p,o,0,m)].push(a[i]);return v}return r.value=function(a){return arguments.length?(t=typeof a=="function"?a:er(a),r):t},r.domain=function(a){return arguments.length?(e=typeof a=="function"?a:er([a[0],a[1]]),r):e},r.thresholds=function(a){return arguments.length?(n=typeof a=="function"?a:er(Array.isArray(a)?ic.call(a):a),r):n},r}function ee(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of t)(a=e(a,++r,t))!=null&&(n<a||n===void 0&&a>=a)&&(n=a)}return n}function pr(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function ki(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?xi:rc(a);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,h=Math.log(l),u=.5*Math.exp(2*h/3),d=.5*Math.sqrt(h*u*(l-u)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*u/l+d)),m=Math.min(r,Math.floor(e+(l-c)*u/l+d));ki(t,e,p,m,a)}const i=t[e];let s=n,o=r;for(Ye(t,n,e),a(t[r],i)>0&&Ye(t,n,r);s<o;){for(Ye(t,s,o),++s,--o;a(t[s],i)<0;)++s;for(;a(t[o],i)>0;)--o}a(t[n],i)===0?Ye(t,n,o):(++o,Ye(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Ye(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function je(t,e,n){if(t=Float64Array.from(Wl(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return pr(t);if(e>=1)return ee(t);var r,a=(r-1)*e,i=Math.floor(a),s=ee(ki(t,i).subarray(0,i+1)),o=pr(t.subarray(i+1));return s+(o-s)*(a-i)}}function dc(t,e){let n=0,r=0;for(let a of t)a!=null&&(a=+a)>=a&&(++n,r+=a);if(n)return r/n}function ge(t,e){return je(t,.5,e)}function hc(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,i=new Array(a);++r<a;)i[r]=t+r*n;return i}function pc(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let a of t)(a=+e(a,++r,t))&&(n+=a)}return n}function Pr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function gc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const da=Symbol("implicit");function Rn(){var t=new hr,e=[],n=[],r=da;function a(i){let s=t.get(i);if(s===void 0){if(r!==da)return r;t.set(i,s=e.push(i)-1)}return n[s%n.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new hr;for(const s of i)t.has(s)||t.set(s,e.push(s)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return Rn(e,n).unknown(r)},Pr.apply(a,arguments),a}function Mi(){var t=Rn().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,i,s,o=!1,l=0,c=0,h=.5;delete t.unknown;function u(){var d=e().length,p=a<r,m=p?a:r,w=p?r:a;i=(w-m)/Math.max(1,d-l+c*2),o&&(i=Math.floor(i)),m+=(w-m-i*(d-l))*h,s=i*(1-l),o&&(m=Math.round(m),s=Math.round(s));var g=hc(d).map(function(v){return m+i*v});return n(p?g.reverse():g)}return t.domain=function(d){return arguments.length?(e(d),u()):e()},t.range=function(d){return arguments.length?([r,a]=d,r=+r,a=+a,u()):[r,a]},t.rangeRound=function(d){return[r,a]=d,r=+r,a=+a,o=!0,u()},t.bandwidth=function(){return s},t.step=function(){return i},t.round=function(d){return arguments.length?(o=!!d,u()):o},t.padding=function(d){return arguments.length?(l=Math.min(1,c=+d),u()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),u()):l},t.paddingOuter=function(d){return arguments.length?(c=+d,u()):c},t.align=function(d){return arguments.length?(h=Math.max(0,Math.min(1,d)),u()):h},t.copy=function(){return Mi(e(),[r,a]).round(o).paddingInner(l).paddingOuter(c).align(h)},Pr.apply(u(),arguments)}function Lr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ai(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function rn(){}var tn=.7,wn=1/tn,Re="\\s*([+-]?\\d+)\\s*",en="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mc=/^#([0-9a-f]{3,8})$/,vc=new RegExp(`^rgb\\(${Re},${Re},${Re}\\)$`),yc=new RegExp(`^rgb\\(${Qt},${Qt},${Qt}\\)$`),bc=new RegExp(`^rgba\\(${Re},${Re},${Re},${en}\\)$`),xc=new RegExp(`^rgba\\(${Qt},${Qt},${Qt},${en}\\)$`),_c=new RegExp(`^hsl\\(${en},${Qt},${Qt}\\)$`),wc=new RegExp(`^hsla\\(${en},${Qt},${Qt},${en}\\)$`),ha={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Lr(rn,ve,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:pa,formatHex:pa,formatHex8:kc,formatHsl:Mc,formatRgb:ga,toString:ga});function pa(){return this.rgb().formatHex()}function kc(){return this.rgb().formatHex8()}function Mc(){return $i(this).formatHsl()}function ga(){return this.rgb().formatRgb()}function ve(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=mc.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ma(e):n===3?new Tt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?dn(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?dn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=vc.exec(t))?new Tt(e[1],e[2],e[3],1):(e=yc.exec(t))?new Tt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=bc.exec(t))?dn(e[1],e[2],e[3],e[4]):(e=xc.exec(t))?dn(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=_c.exec(t))?ba(e[1],e[2]/100,e[3]/100,1):(e=wc.exec(t))?ba(e[1],e[2]/100,e[3]/100,e[4]):ha.hasOwnProperty(t)?ma(ha[t]):t==="transparent"?new Tt(NaN,NaN,NaN,0):null}function ma(t){return new Tt(t>>16&255,t>>8&255,t&255,1)}function dn(t,e,n,r){return r<=0&&(t=e=n=NaN),new Tt(t,e,n,r)}function Ac(t){return t instanceof rn||(t=ve(t)),t?(t=t.rgb(),new Tt(t.r,t.g,t.b,t.opacity)):new Tt}function gr(t,e,n,r){return arguments.length===1?Ac(t):new Tt(t,e,n,r??1)}function Tt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Lr(Tt,gr,Ai(rn,{brighter(t){return t=t==null?wn:Math.pow(wn,t),new Tt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?tn:Math.pow(tn,t),new Tt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Tt(me(this.r),me(this.g),me(this.b),kn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:va,formatHex:va,formatHex8:$c,formatRgb:ya,toString:ya}));function va(){return`#${de(this.r)}${de(this.g)}${de(this.b)}`}function $c(){return`#${de(this.r)}${de(this.g)}${de(this.b)}${de((isNaN(this.opacity)?1:this.opacity)*255)}`}function ya(){const t=kn(this.opacity);return`${t===1?"rgb(":"rgba("}${me(this.r)}, ${me(this.g)}, ${me(this.b)}${t===1?")":`, ${t})`}`}function kn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function me(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function de(t){return t=me(t),(t<16?"0":"")+t.toString(16)}function ba(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xt(t,e,n,r)}function $i(t){if(t instanceof Xt)return new Xt(t.h,t.s,t.l,t.opacity);if(t instanceof rn||(t=ve(t)),!t)return new Xt;if(t instanceof Xt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),s=NaN,o=i-a,l=(i+a)/2;return o?(e===i?s=(n-r)/o+(n<r)*6:n===i?s=(r-e)/o+2:s=(e-n)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new Xt(s,o,l,t.opacity)}function Nc(t,e,n,r){return arguments.length===1?$i(t):new Xt(t,e,n,r??1)}function Xt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Lr(Xt,Nc,Ai(rn,{brighter(t){return t=t==null?wn:Math.pow(wn,t),new Xt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?tn:Math.pow(tn,t),new Xt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new Tt(nr(t>=240?t-240:t+120,a,r),nr(t,a,r),nr(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new Xt(xa(this.h),hn(this.s),hn(this.l),kn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=kn(this.opacity);return`${t===1?"hsl(":"hsla("}${xa(this.h)}, ${hn(this.s)*100}%, ${hn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function xa(t){return t=(t||0)%360,t<0?t+360:t}function hn(t){return Math.max(0,Math.min(1,t||0))}function nr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const qr=t=>()=>t;function Sc(t,e){return function(n){return t+n*e}}function Ec(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Cc(t){return(t=+t)==1?Ni:function(e,n){return n-e?Ec(e,n,t):qr(isNaN(e)?n:e)}}function Ni(t,e){var n=e-t;return n?Sc(t,n):qr(isNaN(t)?e:t)}const Mn=function t(e){var n=Cc(e);function r(a,i){var s=n((a=gr(a)).r,(i=gr(i)).r),o=n(a.g,i.g),l=n(a.b,i.b),c=Ni(a.opacity,i.opacity);return function(h){return a.r=s(h),a.g=o(h),a.b=l(h),a.opacity=c(h),a+""}}return r.gamma=t,r}(1);function Tc(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=t[a]*(1-i)+e[a]*i;return r}}function Rc(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Fc(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),i=new Array(n),s;for(s=0;s<r;++s)a[s]=an(t[s],e[s]);for(;s<n;++s)i[s]=e[s];return function(o){for(s=0;s<r;++s)i[s]=a[s](o);return i}}function Ic(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Vt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function zc(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=an(t[a],e[a]):r[a]=e[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var mr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rr=new RegExp(mr.source,"g");function Dc(t){return function(){return t}}function Pc(t){return function(e){return t(e)+""}}function Si(t,e){var n=mr.lastIndex=rr.lastIndex=0,r,a,i,s=-1,o=[],l=[];for(t=t+"",e=e+"";(r=mr.exec(t))&&(a=rr.exec(e));)(i=a.index)>n&&(i=e.slice(n,i),o[s]?o[s]+=i:o[++s]=i),(r=r[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:Vt(r,a)})),n=rr.lastIndex;return n<e.length&&(i=e.slice(n),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?Pc(l[0].x):Dc(e):(e=l.length,function(c){for(var h=0,u;h<e;++h)o[(u=l[h]).i]=u.x(c);return o.join("")})}function an(t,e){var n=typeof e,r;return e==null||n==="boolean"?qr(e):(n==="number"?Vt:n==="string"?(r=ve(e))?(e=r,Mn):Si:e instanceof ve?Mn:e instanceof Date?Ic:Rc(e)?Tc:Array.isArray(e)?Fc:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?zc:Vt)(t,e)}function Ei(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var _a=180/Math.PI,vr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ci(t,e,n,r,a,i){var s,o,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:a,translateY:i,rotate:Math.atan2(e,t)*_a,skewX:Math.atan(l)*_a,scaleX:s,scaleY:o}}var pn;function Lc(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?vr:Ci(e.a,e.b,e.c,e.d,e.e,e.f)}function qc(t){return t==null||(pn||(pn=document.createElementNS("http://www.w3.org/2000/svg","g")),pn.setAttribute("transform",t),!(t=pn.transform.baseVal.consolidate()))?vr:(t=t.matrix,Ci(t.a,t.b,t.c,t.d,t.e,t.f))}function Ti(t,e,n,r){function a(c){return c.length?c.pop()+" ":""}function i(c,h,u,d,p,m){if(c!==u||h!==d){var w=p.push("translate(",null,e,null,n);m.push({i:w-4,x:Vt(c,u)},{i:w-2,x:Vt(h,d)})}else(u||d)&&p.push("translate("+u+e+d+n)}function s(c,h,u,d){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),d.push({i:u.push(a(u)+"rotate(",null,r)-2,x:Vt(c,h)})):h&&u.push(a(u)+"rotate("+h+r)}function o(c,h,u,d){c!==h?d.push({i:u.push(a(u)+"skewX(",null,r)-2,x:Vt(c,h)}):h&&u.push(a(u)+"skewX("+h+r)}function l(c,h,u,d,p,m){if(c!==u||h!==d){var w=p.push(a(p)+"scale(",null,",",null,")");m.push({i:w-4,x:Vt(c,u)},{i:w-2,x:Vt(h,d)})}else(u!==1||d!==1)&&p.push(a(p)+"scale("+u+","+d+")")}return function(c,h){var u=[],d=[];return c=t(c),h=t(h),i(c.translateX,c.translateY,h.translateX,h.translateY,u,d),s(c.rotate,h.rotate,u,d),o(c.skewX,h.skewX,u,d),l(c.scaleX,c.scaleY,h.scaleX,h.scaleY,u,d),c=h=null,function(p){for(var m=-1,w=d.length,g;++m<w;)u[(g=d[m]).i]=g.x(p);return u.join("")}}}var Bc=Ti(Lc,"px, ","px)","deg)"),Oc=Ti(qc,", ",")",")");function Hc(t){return function(){return t}}function Vc(t){return+t}var wa=[0,1];function ie(t){return t}function yr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Hc(isNaN(e)?NaN:.5)}function Xc(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Yc(t,e,n){var r=t[0],a=t[1],i=e[0],s=e[1];return a<r?(r=yr(a,r),i=n(s,i)):(r=yr(r,a),i=n(i,s)),function(o){return i(r(o))}}function Uc(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)a[s]=yr(t[s],t[s+1]),i[s]=n(e[s],e[s+1]);return function(o){var l=yi(t,o,1,r)-1;return i[l](a[l](o))}}function Gc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Kc(){var t=wa,e=wa,n=an,r,a,i,s=ie,o,l,c;function h(){var d=Math.min(t.length,e.length);return s!==ie&&(s=Xc(t[0],t[d-1])),o=d>2?Uc:Yc,l=c=null,u}function u(d){return d==null||isNaN(d=+d)?i:(l||(l=o(t.map(r),e,n)))(r(s(d)))}return u.invert=function(d){return s(a((c||(c=o(e,t.map(r),Vt)))(d)))},u.domain=function(d){return arguments.length?(t=Array.from(d,Vc),h()):t.slice()},u.range=function(d){return arguments.length?(e=Array.from(d),h()):e.slice()},u.rangeRound=function(d){return e=Array.from(d),n=Ei,h()},u.clamp=function(d){return arguments.length?(s=d?!0:ie,h()):s!==ie},u.interpolate=function(d){return arguments.length?(n=d,h()):n},u.unknown=function(d){return arguments.length?(i=d,u):i},function(d,p){return r=d,a=p,h()}}function Wc(){return Kc()(ie,ie)}function Qc(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function An(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ze(t){return t=An(Math.abs(t)),t?t[1]:NaN}function Zc(t,e){return function(n,r){for(var a=n.length,i=[],s=0,o=t[0],l=0;a>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),i.push(n.substring(a-=o,a+o)),!((l+=o+1)>r));)o=t[s=(s+1)%t.length];return i.reverse().join(e)}}function Jc(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var jc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $n(t){if(!(e=jc.exec(t)))throw new Error("invalid format: "+t);var e;return new Br({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}$n.prototype=Br.prototype;function Br(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Br.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function tf(t){t:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var Ri;function ef(t,e){var n=An(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(Ri=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+An(t,Math.max(0,e+i-1))[0]}function ka(t,e){var n=An(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const Ma={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Qc,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ka(t*100,e),r:ka,s:ef,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Aa(t){return t}var $a=Array.prototype.map,Na=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function nf(t){var e=t.grouping===void 0||t.thousands===void 0?Aa:Zc($a.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?Aa:Jc($a.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(u){u=$n(u);var d=u.fill,p=u.align,m=u.sign,w=u.symbol,g=u.zero,v=u.width,b=u.comma,y=u.precision,x=u.trim,_=u.type;_==="n"?(b=!0,_="g"):Ma[_]||(y===void 0&&(y=12),x=!0,_="g"),(g||d==="0"&&p==="=")&&(g=!0,d="0",p="=");var P=w==="$"?n:w==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",$=w==="$"?r:/[%p]/.test(_)?s:"",L=Ma[_],Y=/[defgprs%]/.test(_);y=y===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function q(k){var N=P,A=$,F,B,E;if(_==="c")A=L(k)+A,k="";else{k=+k;var z=k<0||1/k<0;if(k=isNaN(k)?l:L(Math.abs(k),y),x&&(k=tf(k)),z&&+k==0&&m!=="+"&&(z=!1),N=(z?m==="("?m:o:m==="-"||m==="("?"":m)+N,A=(_==="s"?Na[8+Ri/3]:"")+A+(z&&m==="("?")":""),Y){for(F=-1,B=k.length;++F<B;)if(E=k.charCodeAt(F),48>E||E>57){A=(E===46?a+k.slice(F+1):k.slice(F))+A,k=k.slice(0,F);break}}}b&&!g&&(k=e(k,1/0));var M=N.length+k.length+A.length,I=M<v?new Array(v-M+1).join(d):"";switch(b&&g&&(k=e(I+k,I.length?v-A.length:1/0),I=""),p){case"<":k=N+k+A+I;break;case"=":k=N+I+k+A;break;case"^":k=I.slice(0,M=I.length>>1)+N+k+A+I.slice(M);break;default:k=I+N+k+A;break}return i(k)}return q.toString=function(){return u+""},q}function h(u,d){var p=c((u=$n(u),u.type="f",u)),m=Math.max(-8,Math.min(8,Math.floor(ze(d)/3)))*3,w=Math.pow(10,-m),g=Na[8+m/3];return function(v){return p(w*v)+g}}return{format:c,formatPrefix:h}}var gn,At,Fi;rf({thousands:",",grouping:[3],currency:["$",""]});function rf(t){return gn=nf(t),At=gn.format,Fi=gn.formatPrefix,gn}function af(t){return Math.max(0,-ze(Math.abs(t)))}function sf(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ze(e)/3)))*3-ze(Math.abs(t)))}function of(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ze(e)-ze(t))+1}function lf(t,e,n,r){var a=cc(t,e,n),i;switch(r=$n(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=sf(a,s))&&(r.precision=i),Fi(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=of(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=af(a))&&(r.precision=i-(r.type==="%")*2);break}}return At(r)}function Ii(t){var e=t.domain;return t.ticks=function(n){var r=e();return _i(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return lf(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,i=r.length-1,s=r[a],o=r[i],l,c,h=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);h-- >0;){if(c=Ie(s,o,n),c===l)return r[a]=s,r[i]=o,e(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function se(){var t=Wc();return t.copy=function(){return Gc(t,se())},Pr.apply(t,arguments),Ii(t)}function cf(){var t=0,e=1,n,r,a,i,s=ie,o=!1,l;function c(u){return u==null||isNaN(u=+u)?l:s(a===0?.5:(u=(i(u)-n)*a,o?Math.max(0,Math.min(1,u)):u))}c.domain=function(u){return arguments.length?([t,e]=u,n=i(t=+t),r=i(e=+e),a=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(u){return arguments.length?(o=!!u,c):o},c.interpolator=function(u){return arguments.length?(s=u,c):s};function h(u){return function(d){var p,m;return arguments.length?([p,m]=d,s=u(p,m),c):[s(0),s(1)]}}return c.range=h(an),c.rangeRound=h(Ei),c.unknown=function(u){return arguments.length?(l=u,c):l},function(u){return i=u,n=u(t),r=u(e),a=n===r?0:1/(r-n),c}}function ff(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function zi(){var t=Ii(cf()(ie));return t.copy=function(){return ff(t,zi())},gc.apply(t,arguments)}function uf(t){return t}var ar=1,ir=2,br=3,Ge=4,Sa=1e-6;function df(t){return"translate("+t+",0)"}function hf(t){return"translate(0,"+t+")"}function pf(t){return e=>+t(e)}function gf(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function mf(){return!this.__axis}function Di(t,e){var n=[],r=null,a=null,i=6,s=6,o=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=t===ar||t===Ge?-1:1,h=t===Ge||t===ir?"x":"y",u=t===ar||t===br?df:hf;function d(p){var m=r??(e.ticks?e.ticks.apply(e,n):e.domain()),w=a??(e.tickFormat?e.tickFormat.apply(e,n):uf),g=Math.max(i,0)+o,v=e.range(),b=+v[0]+l,y=+v[v.length-1]+l,x=(e.bandwidth?gf:pf)(e.copy(),l),_=p.selection?p.selection():p,P=_.selectAll(".domain").data([null]),$=_.selectAll(".tick").data(m,e).order(),L=$.exit(),Y=$.enter().append("g").attr("class","tick"),q=$.select("line"),k=$.select("text");P=P.merge(P.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),$=$.merge(Y),q=q.merge(Y.append("line").attr("stroke","currentColor").attr(h+"2",c*i)),k=k.merge(Y.append("text").attr("fill","currentColor").attr(h,c*g).attr("dy",t===ar?"0em":t===br?"0.71em":"0.32em")),p!==_&&(P=P.transition(p),$=$.transition(p),q=q.transition(p),k=k.transition(p),L=L.transition(p).attr("opacity",Sa).attr("transform",function(N){return isFinite(N=x(N))?u(N+l):this.getAttribute("transform")}),Y.attr("opacity",Sa).attr("transform",function(N){var A=this.parentNode.__axis;return u((A&&isFinite(A=A(N))?A:x(N))+l)})),L.remove(),P.attr("d",t===Ge||t===ir?s?"M"+c*s+","+b+"H"+l+"V"+y+"H"+c*s:"M"+l+","+b+"V"+y:s?"M"+b+","+c*s+"V"+l+"H"+y+"V"+c*s:"M"+b+","+l+"H"+y),$.attr("opacity",1).attr("transform",function(N){return u(x(N)+l)}),q.attr(h+"2",c*i),k.attr(h,c*g).text(w),_.filter(mf).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===ir?"start":t===Ge?"end":"middle"),_.each(function(){this.__axis=x})}return d.scale=function(p){return arguments.length?(e=p,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),d):n.slice()},d.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),d):r&&r.slice()},d.tickFormat=function(p){return arguments.length?(a=p,d):a},d.tickSize=function(p){return arguments.length?(i=s=+p,d):i},d.tickSizeInner=function(p){return arguments.length?(i=+p,d):i},d.tickSizeOuter=function(p){return arguments.length?(s=+p,d):s},d.tickPadding=function(p){return arguments.length?(o=+p,d):o},d.offset=function(p){return arguments.length?(l=+p,d):l},d}function sn(t){return Di(br,t)}function Or(t){return Di(Ge,t)}function Ne(t){return function(){return t}}const xr=Math.PI,_r=2*xr,fe=1e-6,vf=_r-fe;function Pi(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function yf(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Pi;const n=10**e;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class bf{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Pi:yf(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,i,s){this._append`C${+e},${+n},${+r},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(e,n,r,a,i){if(e=+e,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=r-e,c=a-n,h=s-e,u=o-n,d=h*h+u*u;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>fe)if(!(Math.abs(u*l-c*h)>fe)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-s,m=a-o,w=l*l+c*c,g=p*p+m*m,v=Math.sqrt(w),b=Math.sqrt(d),y=i*Math.tan((xr-Math.acos((w+d-g)/(2*v*b)))/2),x=y/b,_=y/v;Math.abs(x-1)>fe&&this._append`L${e+x*h},${n+x*u}`,this._append`A${i},${i},0,0,${+(u*p>h*m)},${this._x1=e+_*l},${this._y1=n+_*c}`}}arc(e,n,r,a,i,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(a),l=r*Math.sin(a),c=e+o,h=n+l,u=1^s,d=s?a-i:i-a;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>fe||Math.abs(this._y1-h)>fe)&&this._append`L${c},${h}`,r&&(d<0&&(d=d%_r+_r),d>vf?this._append`A${r},${r},0,1,${u},${e-o},${n-l}A${r},${r},0,1,${u},${this._x1=c},${this._y1=h}`:d>fe&&this._append`A${r},${r},0,${+(d>=xr)},${u},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function xf(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new bf(e)}function _f(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Li(t){this._context=t}Li.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function wf(t){return new Li(t)}function kf(t){return t[0]}function Mf(t){return t[1]}function Af(t,e){var n=Ne(!0),r=null,a=wf,i=null,s=xf(o);t=typeof t=="function"?t:t===void 0?kf:Ne(t),e=typeof e=="function"?e:e===void 0?Mf:Ne(e);function o(l){var c,h=(l=_f(l)).length,u,d=!1,p;for(r==null&&(i=a(p=s())),c=0;c<=h;++c)!(c<h&&n(u=l[c],c,l))===d&&((d=!d)?i.lineStart():i.lineEnd()),d&&i.point(+t(u,c,l),+e(u,c,l));if(p)return i=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ne(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ne(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ne(!!l),o):n},o.curve=function(l){return arguments.length?(a=l,r!=null&&(i=a(r)),o):a},o.context=function(l){return arguments.length?(l==null?r=i=null:i=a(r=l),o):r},o}var $f={value:()=>{}};function Hr(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new mn(n)}function mn(t){this._=t}function Nf(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}mn.prototype=Hr.prototype={constructor:mn,on:function(t,e){var n=this._,r=Nf(t+"",n),a,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((a=(t=r[i]).type)&&(a=Sf(n[a],t.name)))return a;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++i<s;)if(a=(t=r[i]).type)n[a]=Ea(n[a],t.name,e);else if(e==null)for(a in n)n[a]=Ea(n[a],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new mn(t)},call:function(t,e){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,i;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,i=r.length;a<i;++a)r[a].value.apply(e,n)}};function Sf(t,e){for(var n=0,r=t.length,a;n<r;++n)if((a=t[n]).name===e)return a.value}function Ea(t,e,n){for(var r=0,a=t.length;r<a;++r)if(t[r].name===e){t[r]=$f,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}const wr={capture:!0,passive:!1};function kr(t){t.preventDefault(),t.stopImmediatePropagation()}function Ef(t){var e=t.document.documentElement,n=G(t).on("dragstart.drag",kr,wr);"onselectstart"in e?n.on("selectstart.drag",kr,wr):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Cf(t,e){var n=t.document.documentElement,r=G(t).on("dragstart.drag",null);e&&(r.on("click.drag",kr,wr),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var De=0,Ke=0,Ue=0,qi=1e3,Nn,We,Sn=0,ye=0,Fn=0,nn=typeof performance=="object"&&performance.now?performance:Date,Bi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Vr(){return ye||(Bi(Tf),ye=nn.now()+Fn)}function Tf(){ye=0}function En(){this._call=this._time=this._next=null}En.prototype=Oi.prototype={constructor:En,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Vr():+n)+(e==null?0:+e),!this._next&&We!==this&&(We?We._next=this:Nn=this,We=this),this._call=t,this._time=n,Mr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mr())}};function Oi(t,e,n){var r=new En;return r.restart(t,e,n),r}function Rf(){Vr(),++De;for(var t=Nn,e;t;)(e=ye-t._time)>=0&&t._call.call(void 0,e),t=t._next;--De}function Ca(){ye=(Sn=nn.now())+Fn,De=Ke=0;try{Rf()}finally{De=0,If(),ye=0}}function Ff(){var t=nn.now(),e=t-Sn;e>qi&&(Fn-=e,Sn=t)}function If(){for(var t,e=Nn,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Nn=n);We=t,Mr(r)}function Mr(t){if(!De){Ke&&(Ke=clearTimeout(Ke));var e=t-ye;e>24?(t<1/0&&(Ke=setTimeout(Ca,t-nn.now()-Fn)),Ue&&(Ue=clearInterval(Ue))):(Ue||(Sn=nn.now(),Ue=setInterval(Ff,qi)),De=1,Bi(Ca))}}function Ta(t,e,n){var r=new En;return e=e==null?0:+e,r.restart(a=>{r.stop(),t(a+e)},e,n),r}var zf=Hr("start","end","cancel","interrupt"),Df=[],Hi=0,Ra=1,Ar=2,vn=3,Fa=4,$r=5,yn=6;function In(t,e,n,r,a,i){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Pf(t,n,{name:e,index:r,group:a,on:zf,tween:Df,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Hi})}function Xr(t,e){var n=Yt(t,e);if(n.state>Hi)throw new Error("too late; already scheduled");return n}function Zt(t,e){var n=Yt(t,e);if(n.state>vn)throw new Error("too late; already running");return n}function Yt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Pf(t,e,n){var r=t.__transition,a;r[e]=n,n.timer=Oi(i,0,n.time);function i(c){n.state=Ra,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var h,u,d,p;if(n.state!==Ra)return l();for(h in r)if(p=r[h],p.name===n.name){if(p.state===vn)return Ta(s);p.state===Fa?(p.state=yn,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete r[h]):+h<e&&(p.state=yn,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete r[h])}if(Ta(function(){n.state===vn&&(n.state=Fa,n.timer.restart(o,n.delay,n.time),o(c))}),n.state=Ar,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Ar){for(n.state=vn,a=new Array(d=n.tween.length),h=0,u=-1;h<d;++h)(p=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(a[++u]=p);a.length=u+1}}function o(c){for(var h=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=$r,1),u=-1,d=a.length;++u<d;)a[u].call(t,h);n.state===$r&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=yn,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function Nr(t,e){var n=t.__transition,r,a,i=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){i=!1;continue}a=r.state>Ar&&r.state<$r,r.state=yn,r.timer.stop(),r.on.call(a?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}i&&delete t.__transition}}function Lf(t){return this.each(function(){Nr(this,t)})}function qf(t,e){var n,r;return function(){var a=Zt(this,t),i=a.tween;if(i!==n){r=n=i;for(var s=0,o=r.length;s<o;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}a.tween=r}}function Bf(t,e,n){var r,a;if(typeof n!="function")throw new Error;return function(){var i=Zt(this,t),s=i.tween;if(s!==r){a=(r=s).slice();for(var o={name:e,value:n},l=0,c=a.length;l<c;++l)if(a[l].name===e){a[l]=o;break}l===c&&a.push(o)}i.tween=a}}function Of(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Yt(this.node(),n).tween,a=0,i=r.length,s;a<i;++a)if((s=r[a]).name===t)return s.value;return null}return this.each((e==null?qf:Bf)(n,t,e))}function Yr(t,e,n){var r=t._id;return t.each(function(){var a=Zt(this,r);(a.value||(a.value={}))[e]=n.apply(this,arguments)}),function(a){return Yt(a,r).value[e]}}function Vi(t,e){var n;return(typeof e=="number"?Vt:e instanceof ve?Mn:(n=ve(e))?(e=n,Mn):Si)(t,e)}function Hf(t){return function(){this.removeAttribute(t)}}function Vf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Xf(t,e,n){var r,a=n+"",i;return function(){var s=this.getAttribute(t);return s===a?null:s===r?i:i=e(r=s,n)}}function Yf(t,e,n){var r,a=n+"",i;return function(){var s=this.getAttributeNS(t.space,t.local);return s===a?null:s===r?i:i=e(r=s,n)}}function Uf(t,e,n){var r,a,i;return function(){var s,o=n(this),l;return o==null?void this.removeAttribute(t):(s=this.getAttribute(t),l=o+"",s===l?null:s===r&&l===a?i:(a=l,i=e(r=s,o)))}}function Gf(t,e,n){var r,a,i;return function(){var s,o=n(this),l;return o==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),l=o+"",s===l?null:s===r&&l===a?i:(a=l,i=e(r=s,o)))}}function Kf(t,e){var n=Tn(t),r=n==="transform"?Oc:Vi;return this.attrTween(t,typeof e=="function"?(n.local?Gf:Uf)(n,r,Yr(this,"attr."+t,e)):e==null?(n.local?Vf:Hf)(n):(n.local?Yf:Xf)(n,r,e))}function Wf(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Qf(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Zf(t,e){var n,r;function a(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Qf(t,i)),n}return a._value=e,a}function Jf(t,e){var n,r;function a(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Wf(t,i)),n}return a._value=e,a}function jf(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Tn(t);return this.tween(n,(r.local?Zf:Jf)(r,e))}function tu(t,e){return function(){Xr(this,t).delay=+e.apply(this,arguments)}}function eu(t,e){return e=+e,function(){Xr(this,t).delay=e}}function nu(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?tu:eu)(e,t)):Yt(this.node(),e).delay}function ru(t,e){return function(){Zt(this,t).duration=+e.apply(this,arguments)}}function au(t,e){return e=+e,function(){Zt(this,t).duration=e}}function iu(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ru:au)(e,t)):Yt(this.node(),e).duration}function su(t,e){if(typeof e!="function")throw new Error;return function(){Zt(this,t).ease=e}}function ou(t){var e=this._id;return arguments.length?this.each(su(e,t)):Yt(this.node(),e).ease}function lu(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Zt(this,t).ease=n}}function cu(t){if(typeof t!="function")throw new Error;return this.each(lu(this._id,t))}function fu(t){typeof t!="function"&&(t=si(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i=e[a],s=i.length,o=r[a]=[],l,c=0;c<s;++c)(l=i[c])&&t.call(l,l.__data__,c,i)&&o.push(l);return new ne(r,this._parents,this._name,this._id)}function uu(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,a=n.length,i=Math.min(r,a),s=new Array(r),o=0;o<i;++o)for(var l=e[o],c=n[o],h=l.length,u=s[o]=new Array(h),d,p=0;p<h;++p)(d=l[p]||c[p])&&(u[p]=d);for(;o<r;++o)s[o]=e[o];return new ne(s,this._parents,this._name,this._id)}function du(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function hu(t,e,n){var r,a,i=du(e)?Xr:Zt;return function(){var s=i(this,t),o=s.on;o!==r&&(a=(r=o).copy()).on(e,n),s.on=a}}function pu(t,e){var n=this._id;return arguments.length<2?Yt(this.node(),n).on.on(t):this.each(hu(n,t,e))}function gu(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function mu(){return this.on("end.remove",gu(this._id))}function vu(t){var e=this._name,n=this._id;typeof t!="function"&&(t=zr(t));for(var r=this._groups,a=r.length,i=new Array(a),s=0;s<a;++s)for(var o=r[s],l=o.length,c=i[s]=new Array(l),h,u,d=0;d<l;++d)(h=o[d])&&(u=t.call(h,h.__data__,d,o))&&("__data__"in h&&(u.__data__=h.__data__),c[d]=u,In(c[d],e,n,d,c,Yt(h,n)));return new ne(i,this._parents,e,n)}function yu(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ii(t));for(var r=this._groups,a=r.length,i=[],s=[],o=0;o<a;++o)for(var l=r[o],c=l.length,h,u=0;u<c;++u)if(h=l[u]){for(var d=t.call(h,h.__data__,u,l),p,m=Yt(h,n),w=0,g=d.length;w<g;++w)(p=d[w])&&In(p,e,n,w,d,m);i.push(d),s.push(h)}return new ne(i,s,e,n)}var bu=Pe.prototype.constructor;function xu(){return new bu(this._groups,this._parents)}function _u(t,e){var n,r,a;return function(){var i=Fe(this,t),s=(this.style.removeProperty(t),Fe(this,t));return i===s?null:i===n&&s===r?a:a=e(n=i,r=s)}}function Xi(t){return function(){this.style.removeProperty(t)}}function wu(t,e,n){var r,a=n+"",i;return function(){var s=Fe(this,t);return s===a?null:s===r?i:i=e(r=s,n)}}function ku(t,e,n){var r,a,i;return function(){var s=Fe(this,t),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(t),Fe(this,t))),s===l?null:s===r&&l===a?i:(a=l,i=e(r=s,o))}}function Mu(t,e){var n,r,a,i="style."+e,s="end."+i,o;return function(){var l=Zt(this,t),c=l.on,h=l.value[i]==null?o||(o=Xi(e)):void 0;(c!==n||a!==h)&&(r=(n=c).copy()).on(s,a=h),l.on=r}}function Au(t,e,n){var r=(t+="")=="transform"?Bc:Vi;return e==null?this.styleTween(t,_u(t,r)).on("end.style."+t,Xi(t)):typeof e=="function"?this.styleTween(t,ku(t,r,Yr(this,"style."+t,e))).each(Mu(this._id,t)):this.styleTween(t,wu(t,r,e),n).on("end.style."+t,null)}function $u(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Nu(t,e,n){var r,a;function i(){var s=e.apply(this,arguments);return s!==a&&(r=(a=s)&&$u(t,s,n)),r}return i._value=e,i}function Su(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Nu(t,e,n??""))}function Eu(t){return function(){this.textContent=t}}function Cu(t){return function(){var e=t(this);this.textContent=e??""}}function Tu(t){return this.tween("text",typeof t=="function"?Cu(Yr(this,"text",t)):Eu(t==null?"":t+""))}function Ru(t){return function(e){this.textContent=t.call(this,e)}}function Fu(t){var e,n;function r(){var a=t.apply(this,arguments);return a!==n&&(e=(n=a)&&Ru(a)),e}return r._value=t,r}function Iu(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Fu(t))}function zu(){for(var t=this._name,e=this._id,n=Yi(),r=this._groups,a=r.length,i=0;i<a;++i)for(var s=r[i],o=s.length,l,c=0;c<o;++c)if(l=s[c]){var h=Yt(l,e);In(l,t,n,c,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new ne(r,this._parents,t,n)}function Du(){var t,e,n=this,r=n._id,a=n.size();return new Promise(function(i,s){var o={value:s},l={value:function(){--a===0&&i()}};n.each(function(){var c=Zt(this,r),h=c.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(o),e._.interrupt.push(o),e._.end.push(l)),c.on=e}),a===0&&i()})}var Pu=0;function ne(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Sr(t){return Pe().transition(t)}function Yi(){return++Pu}var Jt=Pe.prototype;ne.prototype=Sr.prototype={constructor:ne,select:vu,selectAll:yu,selectChild:Jt.selectChild,selectChildren:Jt.selectChildren,filter:fu,merge:uu,selection:xu,transition:zu,call:Jt.call,nodes:Jt.nodes,node:Jt.node,size:Jt.size,empty:Jt.empty,each:Jt.each,on:pu,attr:Kf,attrTween:jf,style:Au,styleTween:Su,text:Tu,textTween:Iu,remove:mu,tween:Of,delay:nu,duration:iu,ease:ou,easeVarying:cu,end:Du,[Symbol.iterator]:Jt[Symbol.iterator]};function Lu(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var qu={time:null,delay:0,duration:250,ease:Lu};function Bu(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Ou(t){var e,n;t instanceof ne?(e=t._id,t=t._name):(e=Yi(),(n=qu).time=Vr(),t=t==null?null:t+"");for(var r=this._groups,a=r.length,i=0;i<a;++i)for(var s=r[i],o=s.length,l,c=0;c<o;++c)(l=s[c])&&In(l,t,e,c,s,n||Bu(l,e));return new ne(r,this._parents,t,e)}Pe.prototype.interrupt=Lf;Pe.prototype.transition=Ou;const sr=t=>()=>t;function Hu(t,{sourceEvent:e,target:n,selection:r,mode:a,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:a,enumerable:!0,configurable:!0},_:{value:i}})}function Vu(t){t.stopImmediatePropagation()}function or(t){t.preventDefault(),t.stopImmediatePropagation()}var Ia={name:"drag"},lr={name:"space"},Se={name:"handle"},Ee={name:"center"};const{abs:za,max:_t,min:wt}=Math;function Da(t){return[+t[0],+t[1]]}function Pa(t){return[Da(t[0]),Da(t[1])]}var bn={name:"x",handles:["w","e"].map(Er),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},cr={},jt={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},La={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},qa={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Xu={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Yu={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Er(t){return{type:t}}function Uu(t){return!t.ctrlKey&&!t.button}function Gu(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Ku(){return navigator.maxTouchPoints||"ontouchstart"in this}function fr(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Wu(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Qu(){return Zu(bn)}function Zu(t){var e=Gu,n=Uu,r=Ku,a=!0,i=Hr("start","brush","end"),s=6,o;function l(g){var v=g.property("__brush",w).selectAll(".overlay").data([Er("overlay")]);v.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",jt.overlay).merge(v).each(function(){var y=fr(this).extent;G(this).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1])}),g.selectAll(".selection").data([Er("selection")]).enter().append("rect").attr("class","selection").attr("cursor",jt.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var b=g.selectAll(".handle").data(t.handles,function(y){return y.type});b.exit().remove(),b.enter().append("rect").attr("class",function(y){return"handle handle--"+y.type}).attr("cursor",function(y){return jt[y.type]}),g.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(r).on("touchstart.brush",d).on("touchmove.brush",p).on("touchend.brush touchcancel.brush",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(g,v,b){g.tween?g.on("start.brush",function(y){h(this,arguments).beforestart().start(y)}).on("interrupt.brush end.brush",function(y){h(this,arguments).end(y)}).tween("brush",function(){var y=this,x=y.__brush,_=h(y,arguments),P=x.selection,$=t.input(typeof v=="function"?v.apply(this,arguments):v,x.extent),L=an(P,$);function Y(q){x.selection=q===1&&$===null?null:L(q),c.call(y),_.brush()}return P!==null&&$!==null?Y:Y(1)}):g.each(function(){var y=this,x=arguments,_=y.__brush,P=t.input(typeof v=="function"?v.apply(y,x):v,_.extent),$=h(y,x).beforestart();Nr(y),_.selection=P===null?null:P,c.call(y),$.start(b).brush(b).end(b)})},l.clear=function(g,v){l.move(g,null,v)};function c(){var g=G(this),v=fr(this).selection;v?(g.selectAll(".selection").style("display",null).attr("x",v[0][0]).attr("y",v[0][1]).attr("width",v[1][0]-v[0][0]).attr("height",v[1][1]-v[0][1]),g.selectAll(".handle").style("display",null).attr("x",function(b){return b.type[b.type.length-1]==="e"?v[1][0]-s/2:v[0][0]-s/2}).attr("y",function(b){return b.type[0]==="s"?v[1][1]-s/2:v[0][1]-s/2}).attr("width",function(b){return b.type==="n"||b.type==="s"?v[1][0]-v[0][0]+s:s}).attr("height",function(b){return b.type==="e"||b.type==="w"?v[1][1]-v[0][1]+s:s})):g.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function h(g,v,b){var y=g.__brush.emitter;return y&&(!b||!y.clean)?y:new u(g,v,b)}function u(g,v,b){this.that=g,this.args=v,this.state=g.__brush,this.active=0,this.clean=b}u.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(g,v){return this.starting?(this.starting=!1,this.emit("start",g,v)):this.emit("brush",g),this},brush:function(g,v){return this.emit("brush",g,v),this},end:function(g,v){return--this.active===0&&(delete this.state.emitter,this.emit("end",g,v)),this},emit:function(g,v,b){var y=G(this.that).datum();i.call(g,this.that,new Hu(g,{sourceEvent:v,target:l,selection:t.output(this.state.selection),mode:b,dispatch:i}),y)}};function d(g){if(o&&!g.touches||!n.apply(this,arguments))return;var v=this,b=g.target.__data__.type,y=(a&&g.metaKey?b="overlay":b)==="selection"?Ia:a&&g.altKey?Ee:Se,x=t===cr?null:Xu[b],_=t===bn?null:Yu[b],P=fr(v),$=P.extent,L=P.selection,Y=$[0][0],q,k,N=$[0][1],A,F,B=$[1][0],E,z,M=$[1][1],I,O,U=0,K=0,ut,j=x&&_&&a&&g.shiftKey,pt,dt,tt=Array.from(g.touches||[g],S=>{const J=S.identifier;return S=fa(S,v),S.point0=S.slice(),S.identifier=J,S});Nr(v);var nt=h(v,arguments,!0).beforestart();if(b==="overlay"){L&&(ut=!0);const S=[tt[0],tt[1]||tt[0]];P.selection=L=[[q=t===cr?Y:wt(S[0][0],S[1][0]),A=t===bn?N:wt(S[0][1],S[1][1])],[E=t===cr?B:_t(S[0][0],S[1][0]),I=t===bn?M:_t(S[0][1],S[1][1])]],tt.length>1&&et(g)}else q=L[0][0],A=L[0][1],E=L[1][0],I=L[1][1];k=q,F=A,z=E,O=I;var Ut=G(v).attr("pointer-events","none"),yt=Ut.selectAll(".overlay").attr("cursor",jt[b]);if(g.touches)nt.moved=bt,nt.ended=qt;else{var $t=G(g.view).on("mousemove.brush",bt,!0).on("mouseup.brush",qt,!0);a&&$t.on("keydown.brush",zt,!0).on("keyup.brush",Bt,!0),Ef(g.view)}c.call(v),nt.start(g,y.name);function bt(S){for(const J of S.changedTouches||[S])for(const it of tt)it.identifier===J.identifier&&(it.cur=fa(J,v));if(j&&!pt&&!dt&&tt.length===1){const J=tt[0];za(J.cur[0]-J[0])>za(J.cur[1]-J[1])?dt=!0:pt=!0}for(const J of tt)J.cur&&(J[0]=J.cur[0],J[1]=J.cur[1]);ut=!0,or(S),et(S)}function et(S){const J=tt[0],it=J.point0;var Z;switch(U=J[0]-it[0],K=J[1]-it[1],y){case lr:case Ia:{x&&(U=_t(Y-q,wt(B-E,U)),k=q+U,z=E+U),_&&(K=_t(N-A,wt(M-I,K)),F=A+K,O=I+K);break}case Se:{tt[1]?(x&&(k=_t(Y,wt(B,tt[0][0])),z=_t(Y,wt(B,tt[1][0])),x=1),_&&(F=_t(N,wt(M,tt[0][1])),O=_t(N,wt(M,tt[1][1])),_=1)):(x<0?(U=_t(Y-q,wt(B-q,U)),k=q+U,z=E):x>0&&(U=_t(Y-E,wt(B-E,U)),k=q,z=E+U),_<0?(K=_t(N-A,wt(M-A,K)),F=A+K,O=I):_>0&&(K=_t(N-I,wt(M-I,K)),F=A,O=I+K));break}case Ee:{x&&(k=_t(Y,wt(B,q-U*x)),z=_t(Y,wt(B,E+U*x))),_&&(F=_t(N,wt(M,A-K*_)),O=_t(N,wt(M,I+K*_)));break}}z<k&&(x*=-1,Z=q,q=E,E=Z,Z=k,k=z,z=Z,b in La&&yt.attr("cursor",jt[b=La[b]])),O<F&&(_*=-1,Z=A,A=I,I=Z,Z=F,F=O,O=Z,b in qa&&yt.attr("cursor",jt[b=qa[b]])),P.selection&&(L=P.selection),pt&&(k=L[0][0],z=L[1][0]),dt&&(F=L[0][1],O=L[1][1]),(L[0][0]!==k||L[0][1]!==F||L[1][0]!==z||L[1][1]!==O)&&(P.selection=[[k,F],[z,O]],c.call(v),nt.brush(S,y.name))}function qt(S){if(Vu(S),S.touches){if(S.touches.length)return;o&&clearTimeout(o),o=setTimeout(function(){o=null},500)}else Cf(S.view,ut),$t.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Ut.attr("pointer-events","all"),yt.attr("cursor",jt.overlay),P.selection&&(L=P.selection),Wu(L)&&(P.selection=null,c.call(v)),nt.end(S,y.name)}function zt(S){switch(S.keyCode){case 16:{j=x&&_;break}case 18:{y===Se&&(x&&(E=z-U*x,q=k+U*x),_&&(I=O-K*_,A=F+K*_),y=Ee,et(S));break}case 32:{(y===Se||y===Ee)&&(x<0?E=z-U:x>0&&(q=k-U),_<0?I=O-K:_>0&&(A=F-K),y=lr,yt.attr("cursor",jt.selection),et(S));break}default:return}or(S)}function Bt(S){switch(S.keyCode){case 16:{j&&(pt=dt=j=!1,et(S));break}case 18:{y===Ee&&(x<0?E=z:x>0&&(q=k),_<0?I=O:_>0&&(A=F),y=Se,et(S));break}case 32:{y===lr&&(S.altKey?(x&&(E=z-U*x,q=k+U*x),_&&(I=O-K*_,A=F+K*_),y=Ee):(x<0?E=z:x>0&&(q=k),_<0?I=O:_>0&&(A=F),y=Se),yt.attr("cursor",jt[b]),et(S));break}default:return}or(S)}}function p(g){h(this,arguments).moved(g)}function m(g){h(this,arguments).ended(g)}function w(){var g=this.__brush||{selection:null};return g.extent=Pa(e.apply(this,arguments)),g.dim=t,g}return l.extent=function(g){return arguments.length?(e=typeof g=="function"?g:sr(Pa(g)),l):e},l.filter=function(g){return arguments.length?(n=typeof g=="function"?g:sr(!!g),l):n},l.touchable=function(g){return arguments.length?(r=typeof g=="function"?g:sr(!!g),l):r},l.handleSize=function(g){return arguments.length?(s=+g,l):s},l.keyModifiers=function(g){return arguments.length?(a=!!g,l):a},l.on=function(){var g=i.on.apply(i,arguments);return g===i?l:g},l}var Ju=ft('<div class="age-range svelte-740scl"><span> </span> <button class="clear-btn svelte-740scl">Clear filter</button></div>'),ju=ft('<span class="hint svelte-740scl">Up through the 40-to-50 age range, female patients slightly outnumber males—likely reflecting a higher volume of elective and gynecologic‐related procedures in middle-aged women. After age 60, male surgical cases begin to exceed female, which may be driven by increased cardiovascular and oncologic interventions in older men.</span>'),t0=ft('<div class="age-distribution svelte-740scl"><div class="controls svelte-740scl"><label class="svelte-740scl"><input type="checkbox"/> Split by sex</label> <label class="svelte-740scl"><input type="checkbox"/> Show percentages</label> <!> <p class="scale-note svelte-740scl"><i>Tip: Click and drag on the chart to filter by age range</i></p></div> <div class="chart"><svg class="h-auto w-full"></svg></div> <div class="insights svelte-740scl"><p class="insight-text svelte-740scl"> <!></p></div></div>');function e0(t,e){oe(e,!1);const n=H(),r=H();let a=Pt(e,"data",24,()=>[]),i=H(),s=H(!1),o=H(!1),l=H([null,null]);const c=Va();function h(k){const N=[...k].sort((z,M)=>z-M),A=ge(N)||0,F=je(N,.25)||0,B=je(N,.75)||0,E=B-F;return{median:A,q1:F,q3:B,iqr:E}}function u(){if(!a().length)return;G(f(i)).selectAll("*").remove();const k={top:30,right:30,bottom:60,left:50},N=600-k.left-k.right,A=350-k.top-k.bottom,F=f(n).filter(S=>S.age!==void 0&&!isNaN(S.age)),B=F.map(S=>S.age),E=h(B),z=a().filter(S=>S.age!==void 0&&!isNaN(S.age)).map(S=>S.age),M=se().domain(Je(z)).nice().range([0,N]),I=wi().domain(M.domain()).thresholds(M.ticks(20));let O,U;const K=I(B),ut=F.length,j=S=>f(o)?S.length/ut*100:S.length,pt=ee(K,S=>j(S))||0,dt=F.filter(S=>S.sex==="M").map(S=>S.age),tt=F.filter(S=>S.sex==="F").map(S=>S.age),nt=I(dt),Ut=I(tt),yt=Math.max(ee(nt,S=>j(S))||0,ee(Ut,S=>j(S))||0),$t=Math.max(pt,yt);f(s)?O={male:nt,female:Ut}:O=K,U=$t;const bt=se().domain([0,U*1.1]).range([A,0]);G("body").selectAll(".age-tooltip").data([0]).enter().append("div").attr("class","age-tooltip").style("opacity",0).style("position","absolute").style("background-color","white").style("border","1px solid #ddd").style("border-radius","3px").style("padding","8px").style("pointer-events","none").style("font-size","12px").style("box-shadow","0 2px 4px rgba(0,0,0,0.1)");const et=G(f(i)).attr("viewBox",`0 0 ${N+k.left+k.right} ${A+k.top+k.bottom}`).append("g").attr("transform",`translate(${k.left},${k.top})`);if(f(s)){const S=Rn().domain(["Male","Female"]).range(["#4682b4","#db7093"]),J=O,it=Sr().duration(500),Z=et.append("g").selectAll(".bar-male").data(J.male).enter().append("rect").attr("class","bar-male").attr("x",Q=>M(Q.x0)).attr("width",Q=>Math.max(0,M(Q.x1)-M(Q.x0)-1)).attr("y",A).attr("height",0).attr("fill",S("Male")).attr("opacity",.7).attr("stroke",S("Male")).attr("stroke-width",1);Z.transition(it).attr("y",Q=>bt(j(Q))).attr("height",Q=>A-bt(j(Q)));const W=G("body").select(".age-tooltip");Z.on("mouseover",function(Q,xt){const Dt=xt.length,_e=(Dt/dt.length*100).toFixed(1),Le=`${xt.x0}-${xt.x1}`;W.transition().duration(200).style("opacity",.9),W.html(`
                            <strong>Age: ${Le}</strong><br/>
                            <strong>Male</strong><br/>
                            Count: ${Dt}<br/>
                            Percentage: ${_e}%
                        `).style("left",Q.pageX+10+"px").style("top",Q.pageY-28+"px"),G(this).attr("stroke","black").attr("stroke-width",2)}).on("mouseout",function(){W.transition().duration(500).style("opacity",0),G(this).attr("stroke",S("Male")).attr("stroke-width",1)});const ht=et.append("g").selectAll(".bar-female").data(J.female).enter().append("rect").attr("class","bar-female").attr("x",Q=>M(Q.x0)).attr("width",Q=>Math.max(0,M(Q.x1)-M(Q.x0)-1)).attr("y",A).attr("height",0).attr("fill",S("Female")).attr("opacity",.7).attr("stroke",S("Female")).attr("stroke-width",1);ht.transition(it).attr("y",Q=>bt(j(Q))).attr("height",Q=>A-bt(j(Q))),ht.on("mouseover",function(Q,xt){const Dt=xt.length,_e=(Dt/tt.length*100).toFixed(1),Le=`${xt.x0}-${xt.x1}`;W.transition().duration(200).style("opacity",.9),W.html(`
                            <strong>Age: ${Le}</strong><br/>
                            <strong>Female</strong><br/>
                            Count: ${Dt}<br/>
                            Percentage: ${_e}%
                        `).style("left",Q.pageX+10+"px").style("top",Q.pageY-28+"px"),G(this).attr("stroke","black").attr("stroke-width",2)}).on("mouseout",function(){W.transition().duration(500).style("opacity",0),G(this).attr("stroke",S("Female")).attr("stroke-width",1)});const kt=et.append("g").attr("class","legend").attr("transform",`translate(${N-100}, 10)`);["Male","Female"].forEach((Q,xt)=>{kt.append("rect").attr("x",0).attr("y",xt*20).attr("width",15).attr("height",15).attr("fill",S(Q)),kt.append("text").attr("x",20).attr("y",xt*20+12).text(Q).style("font-size","12px")})}else{const S=Sr().duration(500),J=et.append("g").selectAll("rect").data(O).enter().append("rect").attr("x",Z=>M(Z.x0)).attr("width",Z=>Math.max(0,M(Z.x1)-M(Z.x0)-1)).attr("y",A).attr("height",0).attr("fill","steelblue").attr("stroke","white").attr("stroke-width",.5);J.transition(S).attr("y",Z=>bt(j(Z))).attr("height",Z=>A-bt(j(Z)));const it=G("body").select(".age-tooltip");J.on("mouseover",function(Z,W){const ht=W.length,kt=(ht/ut*100).toFixed(1),Q=`${W.x0}-${W.x1}`;it.transition().duration(200).style("opacity",.9),it.html(`
                        <strong>Age: ${Q}</strong><br/>
                        Count: ${ht}<br/>
                        Percentage: ${kt}%
                    `).style("left",Z.pageX+10+"px").style("top",Z.pageY-28+"px"),G(this).attr("stroke","black").attr("stroke-width",2)}).on("mouseout",function(){it.transition().duration(500).style("opacity",0),G(this).attr("stroke","white").attr("stroke-width",.5)})}et.append("g").attr("transform",`translate(0,${A})`).call(sn(M).tickFormat(S=>`${S}`)).style("font-size","12px"),et.append("g").call(Or(bt)).style("font-size","12px"),et.append("text").attr("x",N/2).attr("y",A+40).attr("text-anchor","middle").text("Age (years)").style("font-size","14px"),et.append("text").attr("transform","rotate(-90)").attr("x",-260/2).attr("y",-35).attr("text-anchor","middle").text(f(o)?"Percentage of Patients (%)":"Number of Patients").style("font-size","14px"),et.append("text").attr("x",N/2).attr("y",-10).attr("text-anchor","middle").style("font-size","16px").style("font-weight","bold").text("Age Distribution of Surgical Patients");const qt=M(E.median);et.append("line").attr("x1",qt).attr("x2",qt).attr("y1",A).attr("y2",10).attr("stroke","red").attr("stroke-width",2).attr("stroke-dasharray","5,5"),et.append("rect").attr("x",M(E.q1)).attr("width",M(E.q3)-M(E.q1)).attr("y",A+5).attr("height",10).attr("fill","rgba(255,0,0,0.3)"),et.append("text").attr("x",qt).attr("y",5).attr("text-anchor","middle").style("font-size","12px").style("font-weight","bold").text(`Median: ${At(".1f")(E.median)}`),et.append("text").attr("x",(M(E.q1)+M(E.q3))/2).attr("y",A+25).attr("text-anchor","middle").style("font-size","12px").text(`IQR: ${At(".1f")(E.q1)} - ${At(".1f")(E.q3)}`),E.median>60&&et.append("text").attr("x",N*.75).attr("y",A*.25).attr("text-anchor","middle").style("font-size","13px").style("font-style","italic").style("fill","#555").text("Aging patient population");const zt=Qu().extent([[0,0],[N,A]]).on("start brush",S=>{var J,it;if(S.selection){const[Z,W]=S.selection.map(kt=>Math.round(M.invert(kt))),ht=G("body").select(".age-tooltip");ht.transition().duration(0).style("opacity",.9),ht.html(`
                        <strong>Selecting Ages: ${Z} - ${W}</strong>
                    `).style("left",((J=S.sourceEvent)==null?void 0:J.pageX)+10+"px").style("top",((it=S.sourceEvent)==null?void 0:it.pageY)-28+"px")}}).on("end",S=>{if(G("body").select(".age-tooltip").style("opacity",0),!S.selection){f(l)[0]!==null&&(D(l,[null,null]),setTimeout(()=>u(),0));return}const[J,it]=S.selection.map(W=>M.invert(W)),Z=[Math.round(J),Math.round(it)];(f(l)[0]!==Z[0]||f(l)[1]!==Z[1])&&(D(l,Z),setTimeout(()=>u(),0))}),Bt=et.append("g").attr("class","brush").call(zt);f(l)[0]!==null&&f(l)[1]!==null&&Bt.call(zt.move,[M(f(l)[0]),M(f(l)[1])])}xe(()=>(u(),()=>{G("body").selectAll(".age-tooltip").remove()})),Xa(u),ct(()=>(f(l),gt(a())),()=>{D(n,f(l)[0]!==null&&f(l)[1]!==null?a().filter(k=>k.age!==void 0&&k.age>=f(l)[0]&&k.age<=f(l)[1]):a())}),ct(()=>(f(n),ge),()=>{D(r,f(n).length&&ge(f(n).filter(k=>k.age!==void 0&&!isNaN(k.age)).map(k=>k.age))||0)}),ct(()=>(f(l),f(n),gt(a())),()=>{f(l)[0]!==null?c("filter",{ageRange:f(l),data:f(n)}):f(n)===a()&&f(l)[0]===null&&c("filter",{ageRange:null,data:a()})}),Cn(),be();var d=t0(),p=R(d),m=R(p),w=R(m);Mt(w),ae(),C(m);var g=T(m,2),v=R(g);Mt(v),ae(),C(g);var b=T(g,2);{var y=k=>{var N=Ju(),A=R(N),F=R(A);C(A);var B=T(A,2);C(N),Ft(()=>st(F,`Age range: ${f(l)[0]??""}–${f(l)[1]??""}`)),Lt("click",B,()=>{G("body").select(".age-tooltip").style("opacity",0),D(l,[null,null]),setTimeout(()=>u(),0)}),ot(k,N)};Wt(b,k=>{f(l)[0]!==null&&k(y)})}ae(2),C(p);var x=T(p,2),_=R(x);pe(_,k=>D(i,k),()=>f(i)),C(x);var P=T(x,2),$=R(P),L=R($),Y=T(L);{var q=k=>{var N=ju();ot(k,N)};Wt(Y,k=>{f(s)&&k(q)})}C($),C(P),C(d),Ft(k=>st(L,`Our surgical patients span six decades of life. The median age of ${k??""}
            suggests an aging population, with implications for surgical risk and recovery considerations. `),[()=>f(r).toFixed(1)],he),Ce(w,()=>f(s),k=>D(s,k)),Lt("change",w,()=>{G("body").select(".age-tooltip").style("opacity",0),u()}),Ce(v,()=>f(o),k=>D(o,k)),Lt("change",v,()=>{G("body").select(".age-tooltip").style("opacity",0),u()}),ot(t,d),le()}var n0=ft('<div class="filter-notice svelte-xk6f8a"><p class="svelte-xk6f8a"><span class="filter-badge svelte-xk6f8a">Filtered</span> Viewing <strong> </strong> cases only <button class="clear-filter svelte-xk6f8a">Clear filter ×</button></p></div>'),r0=ft('<div class="insight-box svelte-xk6f8a"><p class="insight-text svelte-xk6f8a">Our patients span six decades, but <strong>70% of them cluster in just two surgical departments</strong>, setting the stage for wildly different baseline risks.</p></div>'),a0=ft('<div class="department-distribution svelte-xk6f8a"><svg class="h-auto w-full"></svg> <!> <div class="toggle-view svelte-xk6f8a"><button>% View</button> <button>Count View</button></div></div>');function i0(t,e){oe(e,!1);let n=Pt(e,"data",24,()=>[]),r=Pt(e,"filteredDepartment",12,null),a=H(),i="2.2 Department Volume",s=H(!1);const o=Va();function l(){if(!n().length)return;G(f(a)).selectAll("*").remove();const b={top:30,right:30,bottom:60,left:50},y=600-b.left-b.right,x=350-b.top-b.bottom,_=ec(n(),M=>M.length,M=>M.department),P=Array.from(_,([M,I])=>({key:M,value:I})).sort((M,I)=>mi(M.value,I.value)),$=pc(P,M=>M.value),L=P.map(M=>({...M,percent:M.value/$*100})),Y=L.slice(0,2),q=Y.reduce((M,I)=>M+I.percent,0),k=Mi().domain(P.map(M=>M.key)).range([0,y]).padding(.2),N=se().domain([0,f(s)?ee(L,M=>M.percent):ee(P,M=>M.value)]).nice().range([x,0]),A=G(f(a)).attr("viewBox",`0 0 ${y+b.left+b.right} ${x+b.top+b.bottom}`).append("g").attr("transform",`translate(${b.left},${b.top})`);A.append("text").attr("x",y/2).attr("y",-15).attr("text-anchor","middle").attr("class","chart-title").style("font-size","16px").style("font-weight","bold").text(i);const F=new Map;P.forEach(M=>{const I=n().filter(nt=>nt.department===M.key),O=I.filter(nt=>nt.sex==="M").length,U=I.filter(nt=>nt.sex==="F").length,K=O/M.value*100,ut=U/M.value*100,j=I.filter(nt=>nt.age!==void 0&&!isNaN(nt.age)).map(nt=>nt.age),pt=j.length&&ge(j)||0,dt=j.length&&je(j,.25)||0,tt=j.length&&je(j,.75)||0;F.set(M.key,{maleCount:O,femaleCount:U,malePercent:K,femalePercent:ut,medianAge:pt,q1:dt,q3:tt})});const B=G("body").selectAll(".dept-tooltip").data([0]).enter().append("div").attr("class","dept-tooltip").style("position","absolute").style("visibility","hidden").style("background-color","white").style("border","1px solid #ddd").style("border-radius","5px").style("padding","10px").style("box-shadow","0 2px 5px rgba(0,0,0,0.2)").style("pointer-events","none").style("font-size","12px").style("z-index","10");A.append("g").selectAll("rect").data(L).enter().append("rect").attr("x",M=>k(M.key)).attr("y",M=>f(s)?N(M.percent):N(M.value)).attr("width",k.bandwidth()).attr("height",M=>f(s)?x-N(M.percent):x-N(M.value)).attr("fill",M=>r()===M.key?"#ff7f50":Y.includes(M)?"#2a6d7c":"#5eb1c6").attr("stroke","#fff").attr("stroke-width",1).attr("class","dept-bar").style("cursor","pointer").on("mouseover",function(M,I){G(this).transition().duration(200).attr("fill","#ff7f50");const O=F.get(I.key);B.html(`
					<div style="font-weight: bold; margin-bottom: 5px; color: #2a6d7c;">${I.key}</div>
					<div>Total cases: <b>${I.value}</b> (${At(".1f")(I.percent)}% of all)</div>
					${f(s)?`<div style="font-weight: bold; color: #2a6d7c; margin-top: 3px;">
							Showing as percentage: ${At(".1f")(I.percent)}%
						</div>`:""}
					<div style="margin-top: 5px;">
						<div>Sex ratio: <b>${At(".0f")(O.malePercent)}% M / ${At(".0f")(O.femalePercent)}% F</b></div>
						<div>Median age: <b>${At(".1f")(O.medianAge)}</b> years</div>
						<div>IQR: <b>${At(".1f")(O.q1)} - ${At(".1f")(O.q3)}</b></div>
					</div>
					<div style="margin-top: 5px; font-size: 10px; color: #666;">Click to filter dashboard by department</div>
				`).style("visibility","visible").style("left",M.pageX+15+"px").style("top",M.pageY-10+"px")}).on("mousemove",function(M){B.style("left",M.pageX+15+"px").style("top",M.pageY-10+"px")}).on("mouseout",function(){const M=G(this).datum();G(this).transition().duration(200).attr("fill",r()===M.key?"#ff7f50":Y.includes(M)?"#2a6d7c":"#5eb1c6"),B.style("visibility","hidden")}).on("click",function(M,I){M.stopPropagation();const O=r()===I.key?null:I.key;o("filter",{department:O,name:I.key}),G(f(a)).selectAll(".dept-bar").transition().duration(300).attr("fill",U=>U.key===O?"#ff7f50":Y.includes(U)?"#2a6d7c":"#5eb1c6"),r(O)}),A.append("g").attr("transform",`translate(0,${x})`).call(sn(k)).selectAll("text").attr("transform","rotate(-45)").attr("text-anchor","end").style("font-size","12px"),A.append("g").call(Or(N).tickFormat(M=>f(s)?At(".1f")(M)+"%":At(",.0f")(M))).style("font-size","12px"),A.append("text").attr("x",y/2).attr("y",x+50).attr("text-anchor","middle").style("font-size","14px").text("Surgical Department"),A.append("text").attr("transform","rotate(-90)").attr("x",-260/2).attr("y",-40).attr("text-anchor","middle").style("font-size","14px").text(f(s)?"Percentage of Cases":"Number of Cases");const E=y*.75,z=x*.25;A.append("rect").attr("x",E-100).attr("y",z-40).attr("width",200).attr("height",60).attr("fill","#f8f9fa").attr("stroke","#2a6d7c").attr("stroke-width",1).attr("rx",5).attr("opacity",.9),A.append("text").attr("x",E).attr("y",z-15).attr("text-anchor","middle").style("font-size","14px").style("font-weight","bold").style("fill","#2a6d7c").text(`${At(".0f")(q)}% of cases`),A.append("text").attr("x",E).attr("y",z+5).attr("text-anchor","middle").style("font-size","12px").style("fill","#333").text("in just 2 departments")}function c(){r()&&(r(null),o("filter",{department:null}),l())}xe(()=>{l();const b=f(a);return b&&b.addEventListener("click",c),()=>{b&&b.removeEventListener("click",c),G("body").selectAll(".dept-tooltip").remove()}}),Xa(l),be();var h=a0(),u=R(h);pe(u,b=>D(a,b),()=>f(a));var d=T(u,2);{var p=b=>{var y=n0(),x=R(y),_=T(R(x),2),P=R(_,!0);C(_);var $=T(_,2);C(x),C(y),Ft(()=>st(P,r())),Lt("click",$,c),ot(b,y)},m=b=>{var y=r0();ot(b,y)};Wt(d,b=>{r()?b(p):b(m,!1)})}var w=T(d,2),g=R(w),v=T(g,2);C(w),C(h),Ft(()=>{ue(g,1,`toggle-btn ${f(s)?"active":""}`,"svelte-xk6f8a"),ue(v,1,`toggle-btn ${f(s)===!1?"active":""}`,"svelte-xk6f8a")}),Lt("click",g,()=>{D(s,!0),l()}),Lt("click",v,()=>{D(s,!1),l()}),ot(t,h),le()}function zn(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}function Dn(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}Dn(zn("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));Dn(zn("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"));Dn(zn("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"));var s0=Dn(zn("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Qe(t,e,n){this.k=t,this.x=e,this.y=n}Qe.prototype={constructor:Qe,scale:function(t){return t===1?this:new Qe(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Qe(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Qe.prototype;var o0=ft("<option> </option>"),l0=ft('<div class="no-data-message svelte-82pezd">No cases match the selected criteria.</div>'),c0=ft('<div class="timeline-container svelte-82pezd"><div class="filter-controls svelte-82pezd"><div class="filter-group svelte-82pezd"><label for="group-select" class="svelte-82pezd">Group By:</label> <select id="group-select" class="svelte-82pezd"><option>Surgery Type</option><option>Department</option></select></div> <div class="filter-group svelte-82pezd"><label for="group-value" class="svelte-82pezd">Filter Value:</label> <select id="group-value" class="svelte-82pezd"><option>All</option><!></select></div> <div class="filter-group svelte-82pezd"><label class="svelte-82pezd">Age Range:</label> <div class="age-inputs svelte-82pezd"><input type="number" min="0" max="120" class="svelte-82pezd"/> <span>to</span> <input type="number" min="0" max="120" class="svelte-82pezd"/></div></div></div> <div class="timeline-visualization svelte-82pezd"></div> <!></div>');function f0(t,e){oe(e,!1);const n=H();let r=Pt(e,"cases",24,()=>[]),a=Pt(e,"groupBy",12,"optype"),i=Pt(e,"ageRange",28,()=>[0,120]),s=Pt(e,"selectedDepartment",8,null),o=H(null),l=H(),c=H([]);const h=[{label:"Case Start",key:"casestart"},{label:"Anesthesia Start",key:"anestart"},{label:"Operation Start",key:"opstart"},{label:"Operation End",key:"opend"},{label:"Anesthesia End",key:"aneend"},{label:"Case End",key:"caseend"}];function u(E){return E.length?h.map(({label:z,key:M})=>{const I=M,O=E.map(dt=>{const tt=dt[I],nt=dt.casestart;return typeof tt=="number"&&typeof nt=="number"?tt-nt:NaN}).filter(dt=>!isNaN(dt));if(!O.length)return{label:z,key:M,mean:null,min:null,max:null};const U=365*24*60*60,K=O.filter(dt=>Math.abs(dt)<U);if(K.length===0)return{label:z,key:M,mean:null,min:null,max:null};const ut=dc(K),j=pr(K),pt=ee(K);return{label:z,key:M,mean:ut,min:j,max:pt}}):h.map(({label:z,key:M})=>({label:z,key:M,mean:null,min:null,max:null}))}let d=H([]),p=H(!1);function m(){if(!f(l)||(Ct(l,f(l).innerHTML=""),!f(d).length))return;const E=f(l).clientWidth||800,z=280,M=200,I=30,O=f(d).filter(W=>W.mean!==null),U=O.map(W=>W.mean),K=Math.min(...U),ut=Math.max(...U),j=10,pt=Math.floor(K/60)-j,dt=Math.ceil(ut/60)+j,tt=[pt,dt],nt=(dt-pt)/7,Ut=Array.from({length:8},(W,ht)=>Math.round((pt+ht*nt)/5)*5),yt=se().domain(tt).range([M+I,E-I]),$t=G(f(l)).append("svg").attr("width","100%").attr("height",z).attr("viewBox",`0 0 ${E} ${z}`),bt=["#52796F","#B08968","#7B6D8D","#A3A380","#8C6A57","#68829E"],et=Rn().domain(h.map(W=>W.label)).range(bt),qt=sn(yt).tickValues(Ut).tickFormat(W=>`${Math.round(W)} min`),zt=$t.append("g").attr("transform",`translate(0,${z/2})`).call(qt);zt.selectAll("text").style("font-size","12px").attr("transform",null).style("text-anchor","middle"),zt.selectAll(".tick line").remove(),zt.select(".domain").attr("x1",M+I),zt.selectAll(".tick").append("line").attr("y1",0).attr("y2",-280/2).attr("stroke","#eee").attr("stroke-dasharray","2,2");const Bt=G(f(l)).append("div").attr("class","timeline-tooltip").style("position","absolute").style("padding","8px 12px").style("background","rgba(0, 0, 0, 0.8)").style("color","white").style("border-radius","4px").style("font-size","12px").style("pointer-events","none").style("opacity",0);$t.selectAll(".event-group").data(O).enter().append("g").attr("class","event-group").each(function(W){const ht=G(this),kt=yt(W.mean/60);ht.append("line").attr("x1",()=>kt).attr("x2",()=>kt).attr("y1",()=>z/2-20).attr("y2",()=>z/2+20).attr("stroke",()=>et(W.label)).attr("stroke-width",2),ht.append("line").attr("x1",()=>{const Q=yt(W.min/60),xt=M+I;return Math.max(Q,xt)}).attr("x2",()=>{const Q=yt(W.max/60),xt=E-I;return Math.min(Q,xt)}).attr("y1",()=>z/2).attr("y2",()=>z/2).attr("stroke",()=>"#000").attr("stroke-width",1),ht.append("circle").attr("cx",()=>kt).attr("cy",()=>z/2).attr("r",6).attr("fill",()=>et(W.label)).on("mouseover",Q=>{Bt.transition().duration(200).style("opacity",1),Bt.html(`
							<strong>${W.label}</strong><br>
							Mean: ${(W.mean/60).toFixed(1)} min<br>
							Range: ${(W.min/60).toFixed(1)} - ${(W.max/60).toFixed(1)} min
						`)}).on("mousemove",Q=>{Bt.style("left",`${Q.pageX+10}px`).style("top",`${Q.pageY-30}px`)}).on("mouseout",()=>{Bt.transition().duration(200).style("opacity",0)})}),$t.append("g").attr("class","event-legend").attr("transform","translate(20, 40)").selectAll("g").data(h).enter().append("g").attr("transform",(W,ht)=>`translate(0, ${ht*25})`).each(function(W){const ht=G(this);ht.append("circle").attr("r",6).attr("cy",0).attr("fill",()=>et(W.label)),ht.append("text").attr("x",16).attr("y",4).attr("font-size",13).attr("fill","#222").text(W.label)});let it="";f(o)&&(it+=`${a()==="optype"?"Surgery Type":"Department"}: ${f(o)}`),s()&&(it+=it?`, Department: ${s()}`:`Department: ${s()}`),(i()[0]>0||i()[1]<120)&&(it+=it?`, Age: ${i()[0]}-${i()[1]}`:`Age: ${i()[0]}-${i()[1]}`),it&&$t.append("text").attr("x",M+I).attr("y",20).attr("font-size",12).attr("fill","#666").text(it),$t.append("text").attr("x",E-I).attr("y",20).attr("text-anchor","end").attr("font-size",12).attr("fill","#666").text(`n = ${f(n).length} cases`);const Z=tt[1]-tt[0];$t.append("text").attr("x",E-I).attr("y",z-10).attr("text-anchor","end").attr("font-size",12).attr("fill","#666").text(`Total duration: ${Math.round(Z)} min`)}xe(()=>{f(l)&&m()}),ct(()=>(gt(r()),f(o),gt(a()),gt(s()),gt(i())),()=>{D(n,r().filter(E=>(!f(o)||E[a()]===f(o))&&(!s()||E.department===s())&&E.age>=i()[0]&&E.age<=i()[1]))}),ct(()=>(gt(r()),gt(a())),()=>{D(c,Array.from(new Set(r().map(E=>E[a()]))).filter(Boolean))}),ct(()=>f(n),()=>{f(n)&&(D(d,u(f(n))),D(p,!0))}),ct(()=>(f(p),f(l)),()=>{f(p)&&f(l)&&(m(),D(p,!1))}),Cn(),be();var w=c0(),g=R(w),v=R(g),b=T(R(v),2);Ft(()=>{a(),na(()=>{})});var y=R(b);y.value=y.__value="optype";var x=T(y);x.value=x.__value="department",C(b),C(v);var _=T(v,2),P=T(R(_),2);Ft(()=>{f(o),na(()=>{f(c)})});var $=R(P);$.value=($.__value=null)??"";var L=T($);Ir(L,1,()=>f(c),Fr,(E,z)=>{var M=o0(),I={},O=R(M,!0);C(M),Ft(()=>{I!==(I=f(z))&&(M.value=(M.__value=f(z))??""),st(O,f(z))}),ot(E,M)}),C(P),C(_);var Y=T(_,2),q=T(R(Y),2),k=R(q);Mt(k);var N=T(k,4);Mt(N),C(q),C(Y),C(g);var A=T(g,2);pe(A,E=>D(l,E),()=>f(l));var F=T(A,2);{var B=E=>{var z=l0();ot(E,z)};Wt(F,E=>{f(n).length===0&&E(B)})}C(w),ia(b,a),ia(P,()=>f(o),E=>D(o,E)),te(k,()=>i()[0],E=>i(i()[0]=E,!0)),te(N,()=>i()[1],E=>i(i()[1]=E,!0)),ot(t,w),le()}function Ba(t,e){return u0(t)||d0(t,e)||h0()}function u0(t){if(Array.isArray(t))return t}function d0(t,e){var n=[],r=!0,a=!1,i=void 0;try{for(var s=t[Symbol.iterator](),o;!(r=(o=s.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){a=!0,i=l}finally{try{!r&&s.return!=null&&s.return()}finally{if(a)throw i}}return n}function h0(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function p0(t,e,n,r){t=t.filter(function(m,w){var g=e(m,w),v=n(m,w);return g!=null&&isFinite(g)&&v!=null&&isFinite(v)}),t.sort(function(m,w){return e(m)-e(w)});for(var a=t.length,i=new Float64Array(a),s=new Float64Array(a),o=0,l=0,c,h,u,d=0;d<a;)u=t[d],i[d]=c=+e(u,d,t),s[d]=h=+n(u,d,t),++d,o+=(c-o)/d,l+=(h-l)/d;for(var p=0;p<a;++p)i[p]-=o,s[p]-=l;return[i,s,o,l]}function g0(t,e,n,r){var a=r-t*t,i=Math.abs(a)<1e-24?0:(n-t*e)/a,s=e-i*t;return[s,i]}function m0(t){t.sort(function(n,r){return n-r});var e=t.length/2;return e%1===0?(t[e-1]+t[e])/2:t[Math.floor(e)]}var Oa=2,Ha=1e-12;function v0(){var t=function(i){return i[0]},e=function(i){return i[1]},n=.3;function r(a){for(var i=p0(a,t,e),s=Ba(i,4),o=s[0],l=s[1],c=s[2],h=s[3],u=o.length,d=Math.max(2,~~(n*u)),p=new Float64Array(u),m=new Float64Array(u),w=new Float64Array(u).fill(1),g=-1;++g<=Oa;){for(var v=[0,d-1],b=0;b<u;++b){for(var y=o[b],x=v[0],_=v[1],P=y-o[x]>o[_]-y?x:_,$=0,L=0,Y=0,q=0,k=0,N=1/Math.abs(o[P]-y||1),A=x;A<=_;++A){var F=o[A],B=l[A],E=y0(Math.abs(y-F)*N)*w[A],z=F*E;$+=E,L+=z,Y+=B*E,q+=B*z,k+=F*z}var M=g0(L/$,Y/$,q/$,k/$),I=Ba(M,2),O=I[0],U=I[1];p[b]=O+U*y,m[b]=Math.abs(l[b]-p[b]),b0(o,b+1,v)}if(g===Oa)break;var K=m0(m);if(Math.abs(K)<Ha)break;for(var ut=0,j,pt;ut<u;++ut)j=m[ut]/(6*K),w[ut]=j>=1?Ha:(pt=1-j*j)*pt}return x0(o,p,c,h)}return r.bandwidth=function(a){return arguments.length?(n=a,r):n},r.x=function(a){return arguments.length?(t=a,r):t},r.y=function(a){return arguments.length?(e=a,r):e},r}function y0(t){return(t=1-t*t*t)*t*t}function b0(t,e,n){var r=t[e],a=n[0],i=n[1]+1;if(!(i>=t.length))for(;e>a&&t[i]-r<=r-t[a];)n[0]=++a,n[1]=i,++i}function x0(t,e,n,r){for(var a=t.length,i=[],s=0,o=0,l=[],c;s<a;++s)c=t[s]+n,l[0]===c?l[1]+=(e[s]-l[1])/++o:(o=0,l[1]+=r,l=[c,e[s]],i.push(l));return l[1]+=r,i}var _0=fs('<path fill="none" stroke="#0ea5e9" stroke-width="2"></path>'),w0=ft('<button type="button"> </button>'),k0=ft('<div class="relative"><canvas style="display:block;" class="svelte-5srsru"></canvas> <svg style="position:absolute;top:0;left:0;pointer-events:none;"><!></svg> <div class="absolute top-2 right-2 flex rounded-full bg-slate-200 text-sm"></div> <div class="pointer-events-none fixed z-30 rounded bg-gray-900 px-2 py-1 text-xs text-white opacity-0"></div></div>');function M0(t,e){oe(e,!1);let n=Pt(e,"patients",24,()=>[]);const r=720,a=440,i={t:32,r:32,b:50,l:54};let s=H(),o=H(),l,c=H(),h=H("median");n().map(N=>Number(N.age)||0),n().map(N=>Number(N.preop_alb)||0);const u=n().map(N=>Number(N.icu_days)||0),d=se().domain([0,95]).range([i.l,r-i.r]),p=se().domain([2,5]).range([a-i.b,i.t]),m=zi(s0).domain(Je(u)),w=N=>N.emop===1?"triangle":"circle";function g(){l.clearRect(0,0,r,a),n().forEach(N=>{const A=Number(N.age),F=Number(N.preop_alb);if(!A||!F)return;l.fillStyle=m(Number(N.icu_days)||0);const B=d(A),E=p(F);w(N)==="triangle"?(l.beginPath(),l.moveTo(B,E-4),l.lineTo(B+4,E+4),l.lineTo(B-4,E+4),l.closePath(),l.fill()):(l.beginPath(),l.arc(B,E,3.5,0,Math.PI*2),l.fill())})}function v(){return wi().value(A=>Number(A.age)||0).domain([0,95]).thresholds(10)(n()).map(A=>{const F=ge(A,E=>Number(E.preop_alb)||NaN),B=ge(A,E=>Number(E.age)||NaN);return F&&B?[d(B),p(F)]:null}).filter(Boolean)}function b(){try{const N=n().filter(F=>F.preop_alb&&F.age);return v0().x(F=>Number(F.age)).y(F=>Number(F.preop_alb)).bandwidth(.4)(N).map(([F,B])=>[d(F),p(B)])}catch{return v()}}let y=H("");function x(N){const A=N.offsetX,F=N.offsetY,B=8,E=B*B;let z=null;for(const M of n()){const I=Number(M.age),O=Number(M.preop_alb);if(!I||!O)continue;const U=d(I)-A,K=p(O)-F;if(U*U+K*K<E){z=M;break}}z?(Ct(c,f(c).style.opacity="1"),Ct(c,f(c).style.left=N.pageX+14+"px"),Ct(c,f(c).style.top=N.pageY-28+"px"),Ct(c,f(c).innerHTML=`
        <strong>Case ${z.caseid}</strong><br>
        Age ${z.age} yr<br>
        Alb ${Number(z.preop_alb).toFixed(1)} g/dL<br>
        ICU ${z.icu_days||0} d<br>
        ${z.emop?"Emergency":"Elective"}
      `)):Ct(c,f(c).style.opacity="0")}xe(()=>{l=f(s).getContext("2d"),g(),G(f(o)).append("g").attr("transform",`translate(0,${a-i.b})`).call(sn(d).ticks(10)),G(f(o)).append("g").attr("transform",`translate(${i.l},0)`).call(Or(p).ticks(6)),G(f(o)).append("text").attr("x",r/2).attr("y",a-10).attr("text-anchor","middle").attr("fill","#475569").attr("font-size",12).text("Age (years)"),G(f(o)).append("text").attr("x",-440/2).attr("y",14).attr("transform","rotate(-90)").attr("text-anchor","middle").attr("fill","#475569").attr("font-size",12).text("Albumin (g/dL)")}),ct(()=>f(h),()=>{D(y,Af()(f(h)==="median"?v():b())||"")}),Cn(),be();var _=k0(),P=R(_);V(P,"width",r),V(P,"height",a),pe(P,N=>D(s,N),()=>f(s));var $=T(P,2);V($,"width",r),V($,"height",a);var L=R($);{var Y=N=>{var A=_0();Ft(()=>V(A,"d",f(y))),ot(N,A)};Wt(L,N=>{f(y)&&N(Y)})}C($),pe($,N=>D(o,N),()=>f(o));var q=T($,2);Ir(q,4,()=>["median","loess"],Fr,(N,A)=>{var F=w0(),B=R(F,!0);C(F),Ft(()=>{V(F,"aria-label",`show ${A} trend`),ue(F,1,`rounded-full px-3 py-1 transition hover:bg-white focus-visible:outline
                     ${f(h)===A?"bg-white font-semibold":""}`),st(B,A)}),Lt("click",F,()=>D(h,A)),ot(N,F)}),C(q);var k=T(q,2);pe(k,N=>D(c,N),()=>f(c)),C(_),Lt("mousemove",_,x),Lt("mouseleave",_,()=>Ct(c,f(c).style.opacity="0")),ot(t,_),le()}var A0=ft('<button class="rounded bg-blue-500 px-4 py-2 text-white hover:bg-blue-600">Make a Guess</button>'),$0=ft('<button class="rounded bg-gray-500 px-4 py-2 text-white hover:bg-gray-600">Back</button>'),N0=ft('<div class="mt-6 space-y-4"><h3 class="text-lg font-semibold">Make Your Predictions</h3> <div class="grid gap-4"><div><label class="block text-sm text-gray-600">Predicted ICU Stay (days)</label> <input type="number" min="0" step="0.1" class="mt-1 w-full rounded border p-2"/></div> <div><label class="block text-sm text-gray-600">Predicted Mortality (%)</label> <input type="number" min="0" max="100" step="0.1" class="mt-1 w-full rounded border p-2"/></div> <div><label class="block text-sm text-gray-600">Predicted Blood Loss (mL)</label> <input type="number" min="0" step="1" class="mt-1 w-full rounded border p-2"/></div></div></div>'),S0=ft('<div class="mt-4 rounded bg-yellow-50 p-3 text-sm text-yellow-800"> </div>'),E0=ft('<h3 class="mt-6 text-lg font-semibold">Outcomes from Similar Cases</h3> <div class="grid grid-cols-3 gap-4"><div><p class="text-sm text-gray-600">Average ICU Stay</p> <p class="font-medium"> </p> <p class="text-xs text-gray-500"> </p></div> <div><p class="text-sm text-gray-600">Mortality Rate</p> <div class="h-2 w-full rounded-full" style="background: linear-gradient(to right, #22c55e, #ef4444)"></div> <p class="font-medium"> </p></div> <div><p class="text-sm text-gray-600">Average Blood Loss</p> <p class="font-medium"> </p> <p class="text-xs text-gray-500"> </p></div></div> <!>',1),C0=ft('<div class="space-y-6 rounded-lg bg-gray-50 p-4"><div class="flex gap-8"><div class="flex-1 space-y-6"><div class="flex items-center justify-between"><h3 class="text-lg font-semibold">Adjust Patient Profile</h3> <div class="flex items-center gap-2 text-sm text-gray-600"><span> </span></div></div> <div class="grid grid-cols-2 gap-4"><label class="flex items-center gap-2"><input type="checkbox" class="rounded border-gray-300"/> <span class="text-sm">Age Filter</span></label> <label class="flex items-center gap-2"><input type="checkbox" class="rounded border-gray-300"/> <span class="text-sm">Height Filter</span></label> <label class="flex items-center gap-2"><input type="checkbox" class="rounded border-gray-300"/> <span class="text-sm">BMI Filter</span></label> <label class="flex items-center gap-2"><input type="checkbox" class="rounded border-gray-300"/> <span class="text-sm">ASA Filter</span></label></div> <div class="space-y-6"><div><label class="block text-sm text-gray-600"> </label> <input type="range" class="w-full"/> <p class="text-xs text-gray-500"> </p></div> <div><label class="block text-sm text-gray-600"> </label> <input type="range" class="w-full"/> <p class="text-xs text-gray-500"> </p></div> <div><label class="block text-sm text-gray-600"> </label> <input type="range" step="0.1" class="w-full"/> <p class="text-xs text-gray-500"> </p></div> <div><label class="block text-sm text-gray-600"> </label> <input type="range" min="1" max="5" step="1" class="w-full"/> <p class="text-xs text-gray-500"> </p></div></div></div> <div class="flex-1 flex items-center justify-center"><svg class="w-full h-full" style="min-height: 350px; max-height: 500px;"><circle cx="100" cy="30" r="20"></circle><line x1="100" y1="50" x2="100"></line><ellipse cx="100"></ellipse><line x1="100" y1="80"></line><line x1="100" y1="80"></line><line x1="100" x2="70"></line><line x1="100" x2="130"></line><path d="M80,20 Q100,0 120,20" fill="none"></path></svg></div></div> <div class="mt-4 rounded bg-blue-50 p-3 text-sm text-blue-800"> </div> <div class="mt-4 flex space-x-4"><!> <button class="rounded bg-gray-500 px-4 py-2 text-white hover:bg-gray-600"> </button></div> <!> <!></div>');function T0(t,e){oe(e,!1);const n=H(),r=H(),a=H(),i=H(),s=H(),o=H(),l=H(),c=H(),h=H(),u=H(),d=H(),p=H(),m=H(),w=H();let g=Pt(e,"predictors",12),v=Pt(e,"cases",24,()=>[]),b=H(!1),y=H({icuDays:0,mortality:0,bloodLoss:0}),x=H(!1),_=H(0),P=H(!1),$=H({age:!0,height:!0,bmi:!0,asa:!0});function L(X){const lt=X/2.54,Nt=Math.floor(lt/12),mt=Math.round(lt%12);return{feet:Nt,inches:mt}}function Y(X,lt){return Math.round((X*12+lt)*2.54)}const q={min:{feet:4,inches:5},max:{feet:7,inches:5}};let k=H(0),N=H(0),A=H(0),F=H(0),B=H({q1:0,q3:0}),E=H({q1:0,q3:0});function z(X,lt,Nt){const mt=[...Nt].sort((vt,rt)=>vt-rt),Ot=mt.indexOf(lt),Gt=mt.indexOf(X);return Math.abs(Ot-Gt)/mt.length}function M(){D(b,!0),D(x,!1),D(P,!1),D(y,{icuDays:0,mortality:0,bloodLoss:0})}const I={1:"#22c55e",2:"#a3e635",3:"#eab308",4:"#f97316",5:"#ef4444"};ct(()=>{},()=>{D(n,{min:Y(q.min.feet,q.min.inches),max:Y(q.max.feet,q.max.inches)})}),ct(()=>gt(v()),()=>{D(r,v().length>0?{min:Math.min(...v().map(X=>X.age)),max:Math.max(...v().map(X=>X.age))}:{min:0,max:0})}),ct(()=>gt(v()),()=>{D(a,v().length>0?{min:Math.min(...v().map(X=>X.bmi)),max:Math.max(...v().map(X=>X.bmi))}:{min:0,max:0})}),ct(()=>gt(v()),()=>{D(i,v().length>0?[...new Set(v().map(X=>X.asa))].sort():[])}),ct(()=>(gt(v()),f($),gt(g()),f(k),f(N),f(A),f(b),f(x),f(y)),()=>{if(v().length>0){const X=f($).age?v().filter(rt=>Math.abs(rt.age-g().age)<=5):v(),lt=f($).bmi?v().filter(rt=>Math.abs(rt.bmi-g().bmi)<=5):v(),Nt=f($).height?v().filter(rt=>Math.abs(rt.height-g().height)<=5.08):v(),mt=f($).asa?v().filter(rt=>Math.abs(rt.asa-g().asa)<=2):v(),vt=X.filter(rt=>lt.includes(rt)).filter(rt=>Nt.includes(rt)).filter(rt=>mt.includes(rt));if(D(F,vt.length),vt.length>0){const rt=vt.map(at=>Number(at.icu_days)).filter(at=>!isNaN(at)).sort((at,Rt)=>at-Rt);D(k,rt.reduce((at,Rt)=>at+Rt,0)/rt.length),D(B,{q1:rt[Math.floor(rt.length*.25)],q3:rt[Math.floor(rt.length*.75)]}),D(N,vt.reduce((at,Rt)=>at+(Rt.death_inhosp||0),0)/vt.length);const St=vt.map(at=>Number(at.intraop_ebl)).filter(at=>!isNaN(at)).sort((at,Rt)=>at-Rt);if(D(A,St.reduce((at,Rt)=>at+Rt,0)/St.length),D(E,{q1:St[Math.floor(St.length*.25)],q3:St[Math.floor(St.length*.75)]}),f(b)&&f(x)){const at=z(f(y).icuDays,f(k),rt),Rt=z(f(y).mortality,f(N),vt.map(Be=>Be.death_inhosp)),fn=z(f(y).bloodLoss,f(A),St);D(_,(at+Rt+fn)/3)}}else D(k,0),D(N,0),D(A,0),D(B,{q1:0,q3:0}),D(E,{q1:0,q3:0})}}),ct(()=>(gt(g()),f(n)),()=>{D(s,(g().height-f(n).min)/(f(n).max-f(n).min))}),ct(()=>f(s),()=>{D(o,250+f(s)*150)}),ct(()=>(gt(g()),f(a)),()=>{D(l,2+(g().bmi-f(a).min)/(f(a).max-f(a).min)*4)}),ct(()=>(gt(g()),f(a)),()=>{D(c,(g().bmi-f(a).min)/(f(a).max-f(a).min))}),ct(()=>f(c),()=>{D(h,10+f(c)*25)}),ct(()=>f(o),()=>{D(u,f(o)*.2)}),ct(()=>(gt(g()),f(r)),()=>{D(d,`rgb(${(g().age-f(r).min)/(f(r).max-f(r).min)*255}, ${(g().age-f(r).min)/(f(r).max-f(r).min)*255}, ${(g().age-f(r).min)/(f(r).max-f(r).min)*255})`)}),ct(()=>gt(g()),()=>{D(p,I[g().asa]||I[1])}),ct(()=>f($),()=>{D(m,Object.values(f($)).filter(Boolean).length)}),ct(()=>f(m),()=>{D(w,f(m)===4?"all filters":`${f(m)} filter${f(m)===1?"":"s"}`)}),Cn(),be();var O=C0(),U=R(O),K=R(U),ut=R(K),j=T(R(ut),2),pt=R(j),dt=R(pt);C(pt),C(j),C(ut);var tt=T(ut,2),nt=R(tt),Ut=R(nt);Mt(Ut),ae(2),C(nt);var yt=T(nt,2),$t=R(yt);Mt($t),ae(2),C(yt);var bt=T(yt,2),et=R(bt);Mt(et),ae(2),C(bt);var qt=T(bt,2),zt=R(qt);Mt(zt),ae(2),C(qt),C(tt);var Bt=T(tt,2),S=R(Bt),J=R(S),it=R(J);C(J);var Z=T(J,2);Mt(Z);var W=T(Z,2),ht=R(W);C(W),C(S);var kt=T(S,2),Q=R(kt),xt=R(Q);C(Q);var Dt=T(Q,2);Mt(Dt);var _e=T(Dt,2),Le=R(_e);C(_e),C(kt);var on=T(kt,2),Pn=R(on),Ui=R(Pn);C(Pn);var we=T(Pn,2);Mt(we);var Ur=T(we,2),Gi=R(Ur);C(Ur),C(on);var Ln=T(on,2),qn=R(Ln),Ki=R(qn);C(qn);var ln=T(qn,2);Mt(ln);var Gr=T(ln,2),Wi=R(Gr);C(Gr),C(Ln),C(Bt),C(K);var Kr=T(K,2),Bn=R(Kr),cn=R(Bn),qe=T(cn),ce=T(qe),ke=T(ce),Me=T(ke),Ae=T(Me),$e=T(Ae),On=T($e);C(Bn),C(Kr),C(U);var Hn=T(U,2),Qi=R(Hn);C(Hn);var Vn=T(Hn,2),Wr=R(Vn);{var Zi=X=>{var lt=A0();Lt("click",lt,M),ot(X,lt)},Ji=X=>{var lt=$0();Lt("click",lt,()=>{D(b,!1),D(x,!1),D(P,!1)}),ot(X,lt)};Wt(Wr,X=>{f(b)?X(Ji,!1):X(Zi)})}var Xn=T(Wr,2),ji=R(Xn,!0);C(Xn),C(Vn);var Qr=T(Vn,2);{var ts=X=>{var lt=N0(),Nt=T(R(lt),2),mt=R(Nt),Ot=T(R(mt),2);Mt(Ot),C(mt);var Gt=T(mt,2),vt=T(R(Gt),2);Mt(vt),C(Gt);var rt=T(Gt,2),St=T(R(rt),2);Mt(St),C(rt),C(Nt),C(lt),te(Ot,()=>f(y).icuDays,at=>Ct(y,f(y).icuDays=at)),te(vt,()=>f(y).mortality,at=>Ct(y,f(y).mortality=at)),te(St,()=>f(y).bloodLoss,at=>Ct(y,f(y).bloodLoss=at)),ot(X,lt)};Wt(Qr,X=>{f(b)&&X(ts)})}var es=T(Qr,2);{var ns=X=>{var lt=E0(),Nt=T(ja(lt),2),mt=R(Nt),Ot=T(R(mt),2),Gt=R(Ot);C(Ot);var vt=T(Ot,2),rt=R(vt);C(vt),C(mt);var St=T(mt,2),at=T(R(St),4),Rt=R(at);C(at),C(St);var fn=T(St,2),Be=T(R(fn),2),rs=R(Be);C(Be);var Zr=T(Be,2),as=R(Zr);C(Zr),C(fn),C(Nt);var is=T(Nt,2);{var ss=Oe=>{var He=S0(),Yn=R(He);C(He),Ft(Un=>st(Yn,`Your guess was within the ${Un??""}th percentile of accuracy!`),[()=>((1-f(_))*100).toFixed(1)],he),ot(Oe,He)};Wt(is,Oe=>{f(b)&&f(x)&&Oe(ss)})}Ft((Oe,He,Yn,Un,os,ls,cs)=>{st(Gt,`${Oe??""} days`),st(rt,`IQR: ${He??""} - ${Yn??""} days`),st(Rt,`${Un??""}%`),st(rs,`${os??""} mL`),st(as,`IQR: ${ls??""} - ${cs??""} mL`)},[()=>f(k).toFixed(1),()=>f(B).q1.toFixed(1),()=>f(B).q3.toFixed(1),()=>(f(N)*100).toFixed(1),()=>f(A).toFixed(0),()=>f(E).q1.toFixed(0),()=>f(E).q3.toFixed(0)],he),ot(X,lt)};Wt(es,X=>{(!f(b)||f(x))&&f(P)&&X(ns)})}C(O),Ft((X,lt,Nt,mt,Ot,Gt,vt)=>{st(dt,`Active: ${f(w)??""}`),ue(S,1,un(f($).age?"":"opacity-50")),st(it,`Age: ${g().age??""} years`),V(Z,"min",f(r).min),V(Z,"max",f(r).max),Z.disabled=!f($).age,st(ht,`Range: ${f(r).min??""} - ${f(r).max??""} years`),ue(kt,1,un(f($).height?"":"opacity-50")),st(xt,`Height: ${X??""}' ${lt??""}"`),V(Dt,"min",f(n).min),V(Dt,"max",f(n).max),Dt.disabled=!f($).height,st(Le,`Range: ${q.min.feet}'${q.min.inches}" - ${q.max.feet}'${q.max.inches}"`),ue(on,1,un(f($).bmi?"":"opacity-50")),st(Ui,`BMI: ${g().bmi??""}`),V(we,"min",f(a).min),V(we,"max",f(a).max),we.disabled=!f($).bmi,st(Gi,`Range: ${Nt??""} - ${mt??""}`),ue(Ln,1,un(f($).asa?"":"opacity-50")),st(Ki,`ASA Score: ${g().asa??""}`),ln.disabled=!f($).asa,st(Wi,`ASA ${g().asa??""}: ${g().asa===1?"Healthy patient":g().asa===2?"Mild systemic disease":g().asa===3?"Severe systemic disease":g().asa===4?"Severe systemic disease that is a constant threat to life":"Moribund patient not expected to survive without the operation"}`),V(Bn,"viewBox",`0 0 200 ${f(o)??""}`),V(cn,"fill",f(p)),V(cn,"stroke-width",f(l)),V(cn,"opacity",f($).asa?1:.5),V(qe,"y2",f(o)*.6),V(qe,"stroke",f(p)),V(qe,"stroke-width",f(l)),V(qe,"opacity",f($).asa?1:.5),V(ce,"cy",f(o)*.45),V(ce,"rx",f(h)),V(ce,"ry",f(u)),V(ce,"fill",f(p)),V(ce,"stroke-width",f(l)),V(ce,"opacity",f($).bmi?1:.5),V(ke,"x2",Ot),V(ke,"y2",f(o)*.4),V(ke,"stroke",f(p)),V(ke,"stroke-width",f(l)),V(ke,"opacity",f($).asa?1:.5),V(Me,"x2",Gt),V(Me,"y2",f(o)*.4),V(Me,"stroke",f(p)),V(Me,"stroke-width",f(l)),V(Me,"opacity",f($).asa?1:.5),V(Ae,"y1",f(o)*.6),V(Ae,"y2",f(o)*.9),V(Ae,"stroke",f(p)),V(Ae,"stroke-width",f(l)),V(Ae,"opacity",f($).asa?1:.5),V($e,"y1",f(o)*.6),V($e,"y2",f(o)*.9),V($e,"stroke",f(p)),V($e,"stroke-width",f(l)),V($e,"opacity",f($).asa?1:.5),V(On,"stroke",f(d)),V(On,"stroke-width",f(l)*1.5),V(On,"opacity",f($).age?1:.5),st(Qi,`Found ${f(F)??""} historical patients within ${vt??""}`),st(ji,f(P)?"Hide Outcomes":"Show Outcomes")},[()=>L(g().height).feet,()=>L(g().height).inches,()=>f(a).min.toFixed(1),()=>f(a).max.toFixed(1),()=>60-Math.max(0,f(h)-20),()=>140+Math.max(0,f(h)-20),()=>[f($).age&&"±5 years age",f($).height&&"±2 inches height",f($).bmi&&"±5 BMI",f($).asa&&"±2 ASA score"].filter(Boolean).join(", ")],he),Ce(Ut,()=>f($).age,X=>Ct($,f($).age=X)),Ce($t,()=>f($).height,X=>Ct($,f($).height=X)),Ce(et,()=>f($).bmi,X=>Ct($,f($).bmi=X)),Ce(zt,()=>f($).asa,X=>Ct($,f($).asa=X)),te(Z,()=>g().age,X=>g(g().age=X,!0)),te(Dt,()=>g().height,X=>g(g().height=X,!0)),te(we,()=>g().bmi,X=>g(g().bmi=X,!0)),te(ln,()=>g().asa,X=>g(g().asa=X,!0)),Lt("click",Xn,()=>{D(P,!f(P)),f(b)&&D(x,!0)}),ot(t,O),le()}var R0=ft('<div class="flex flex-col items-center"><svg></svg> <div class="mt-3 flex gap-6 text-sm"><span class="flex items-center gap-1"><span class="inline-block h-3 w-3 rounded-full bg-[#2563eb]"></span> Routine elective</span> <span class="flex items-center gap-1"><span class="inline-block h-3 w-3 rounded-full bg-[#dc2626]"></span> High-risk cohort</span></div></div>');function F0(t,e){oe(e,!1);let n=Pt(e,"patients",24,()=>[]);const r=w=>(w.death_inhosp?1:0)*1e3+(w.icu_days||0)*4+(w.intraop_ebl||0)/100,i=n().filter(w=>w.preop_alb!=null).sort((w,g)=>r(g)-r(w)).slice(0,Math.max(1,Math.round(n().length*.005))),s=n().filter(w=>Number(w.age)<50&&Number(w.asa)<=2&&!w.emop&&w.death_inhosp===0),o=(w,g)=>ge(w,v=>Number(v[g])||NaN)||0,l=[{key:"mort",label:"Mortality (%)",hi:o(i,"death_inhosp")*100,lo:o(s,"death_inhosp")*100,fmt:w=>w.toFixed(1)+"%"},{key:"icu",label:"ICU Stay (days)",hi:o(i,"icu_days"),lo:o(s,"icu_days"),fmt:w=>w.toFixed(1)},{key:"blood",label:"Blood Loss (mL)",hi:o(i,"intraop_ebl"),lo:o(s,"intraop_ebl"),fmt:w=>Math.round(w).toLocaleString()}],c=620,h=260,u={t:30,r:40,b:30,l:160};let d=H();xe(()=>{const w=ee(l.flatMap(x=>[x.hi,x.lo]))||1,g=se().domain([0,w*1.1]).range([u.l,c-u.r]),v=G(f(d)).attr("width",c).attr("height",h).append("g");v.append("g").attr("transform",`translate(0,${h-u.b})`).call(sn(g).ticks(6).tickSizeOuter(0)).selectAll("text").attr("font-size",11);const b=v.selectAll(".row").data(l).enter().append("g").attr("class","row").attr("transform",(x,_)=>`translate(0,${u.t+_*60})`);b.append("text").attr("x",u.l-10).attr("y",4).attr("text-anchor","end").attr("font-size",13).attr("fill","#475569").text(x=>x.label),b.append("line").attr("x1",x=>g(x.lo)).attr("x2",x=>g(x.hi)).attr("y1",0).attr("y2",0).attr("stroke","#a1a1aa").attr("stroke-width",2),b.append("circle").attr("cx",x=>g(x.lo)).attr("r",6).attr("fill","#2563eb"),b.append("circle").attr("cx",x=>g(x.hi)).attr("r",6).attr("fill","#dc2626");const y=G(f(d).parentElement).append("div").attr("class","fixed z-30 rounded bg-gray-900 px-2 py-1 text-xs text-white pointer-events-none opacity-0");b.selectAll("circle").on("mousemove",(x,_)=>{const P=x.target.getAttribute("fill")==="#dc2626"?_.hi:_.lo;y.style("opacity","1").style("left",x.pageX+14+"px").style("top",x.pageY-28+"px").html(`${_.label}<br><strong>${_.fmt(P)}</strong>`)}).on("mouseleave",()=>y.style("opacity","0"))}),be();var p=R0(),m=R(p);pe(m,w=>D(d,w),()=>f(d)),ae(2),C(p),ot(t,p),le()}var I0=ft('<p class="py-16 text-center text-lg">Loading VitalDB dataset …</p>'),z0=ft(`<article class="prose mx-auto space-y-20 py-10"><section class="space-y-6 text-center"><h1 class="text-4xl leading-tight font-semibold md:text-5xl">Vitals&nbsp;Unveiled:<br/> <span class="text-indigo-600">Why Some “Routine” Surgeries Aren’t</span></h1> <p class="mx-auto max-w-2xl text-lg md:text-xl">Every morning an OR schedule hums like clockwork. <strong>6 388</strong> patients arrive,
				expecting a smooth ride through anesthesia and stitched-up certainty. Yet buried in those
				charts are <em>blood-loss spikes, surprise ICU transfers, and silent tragedies</em> that no checklist
				predicted. What separates the happy recoveries from the heart-stopping detours?</p> <p class="mx-auto max-w-2xl text-lg md:text-xl">Scroll on 👇 as we crack open the VitalDB dataset to follow every heartbeat, incision, and
				lab value—then build <strong>interactive risk profiles</strong> that may one day warn us before
				routine turns to critical.</p> <!></section> <section><h2>Who Steps Into the OR?</h2> <div class="grid gap-8 md:grid-cols-2"><!> <!></div></section> <section><h2>Time on the Table</h2> <p class="mb-4">Compare anaesthesia, incision, and recovery time across departments or surgery types.</p> <!></section> <section><h2>Hidden Risk Factors — Albumin × Age</h2> <p class="mb-4 max-w-xl">Albumin hints at nutritional reserve. In the scatter below, colour encodes ICU days and ▲
				marks emergency cases. Switch between a robust <strong>median-bin trend</strong> and a smooth <strong>LOESS curve</strong>. Hover the
				pale-purple dots under 3 g/dL — these patients linger nearly <strong>three days longer</strong> in ICU.</p> <!></section>  <section><h2 class="mb-4 text-2xl font-semibold">The Big Contrast — High vs Routine Elective</h2> <p class="mb-6 max-w-xl">From 6 388 surgeries we pull the sickest 0.5 % and the healthiest routine cases. Drag your
				eyes across the lines: blood loss rockets, ICU days triple, and mortality—not shown in the
				booking sheet—lurks behind that red dot. Hover any circle for the raw median.</p> <!></section> <section><h2>Interactive Risk Builder</h2> <!></section></article>`);function X0(t,e){oe(e,!1);let n=H([]),r=H(!0),a=H([]),i=H(null);function s(p){const{department:m}=p.detail;D(i,m),m?D(a,f(n).filter(w=>w.department===m)):D(a,[...f(n)])}function o(p){return p==null||p.trim()===""?"":/^[+\-]?\d+(\.\d+)?$/.test(p)?+p:p}xe(async()=>{const p=`${Ls}/cases.csv`;D(n,await so(p,m=>{const w={};for(const g in m)w[g]=o(m[g]);return w})),D(r,!1)});let l=H({age:60,bmi:25,asa:2,emergency:0});be();var c=us(),h=ja(c);{var u=p=>{var m=I0();ot(p,m)},d=p=>{var m=z0(),w=R(m),g=T(R(w),6);const v=he(()=>[{label:"Total Surgeries",value:f(n).length},{label:"ICU Transfers",value:f(n).filter(B=>(B.icu_days??0)>0).length},{label:"In-hospital Deaths",value:f(n).filter(B=>B.death_inhosp==1).length}]);ho(g,{get stats(){return f(v)}}),C(w);var b=T(w,2),y=T(R(b),2),x=R(y);const _=he(()=>f(i)?f(a):f(n));e0(x,{get data(){return f(_)}});var P=T(x,2);i0(P,{get data(){return f(n)},get filteredDepartment(){return f(i)},$$events:{filter:s}}),C(y),C(b);var $=T(b,2),L=T(R($),4);f0(L,{get cases(){return f(n)}}),C($);var Y=T($,2),q=T(R(Y),4);M0(q,{get patients(){return f(n)}}),C(Y);var k=T(Y,2),N=T(R(k),4);F0(N,{get patients(){return f(n)}}),C(k);var A=T(k,2),F=T(R(A),2);T0(F,{get cases(){return f(n)},get predictors(){return f(l)},set predictors(B){D(l,B)},$$legacy:!0}),C(A),C(m),ot(p,m)};Wt(h,p=>{f(r)?p(u):p(d,!1)})}ot(t,c),le()}export{X0 as component};
